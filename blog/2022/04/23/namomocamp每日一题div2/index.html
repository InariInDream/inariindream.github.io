<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='4.22 ï¼ˆå¾…è¡¥ï¼‰ é¢˜ç›®é“¾æ¥
é¢˜è§£é“¾æ¥
æè¿° ç»™å®šä¸¤ä¸ªé˜Ÿåˆ—$a$,$b$ï¼Œæ¯é˜Ÿ$n$äººï¼Œèº«é«˜åˆ†åˆ«ä¸º$a_i$, $b_i$
æ¯é˜Ÿçš„äººéƒ½å¯ä»¥ä¸å‰åç›¸é‚»è€…äº¤æ¢ä½ç½®ï¼Œæ¬¡æ•°ä¸é™ï¼Œä»…åœ¨åŒé˜Ÿæ¢ï¼Œé—®ä½¿$\sum (a_i - b_i)^2$æœ€å°çš„äº¤æ¢æ¬¡æ•°
æ€è·¯ ä¸¤é˜ŸåŒæ—¶æ¢å’Œåªæ¢ä¸€é˜Ÿæ•ˆæœç›¸åŒï¼Œå› æ­¤åªéœ€é€‰ä¸€é˜Ÿæ¥æ¢ã€‚
$\sum (a_i - b_i)^2 = \sum((a_i &#43; b_i)^2 - 4 * a_i * b_i)$
å‰è€…æ˜¯å®šå€¼ï¼Œå› æ­¤åªéœ€æ‰¾åˆ°ä½¿åé¢é‚£é¡¹æœ€å¤§çš„æ–¹å¼å³å¯
å°±æ˜¯æ±‚ä¸€ä¸ªæ•°åˆ—ç›¸å¯¹äºå¦ä¸€ä¸ªçš„é€†åºå¯¹ï¼ˆå¥½åƒæŸæ¬¡abcåšè¿‡ï¼Œä½†åæ¥æ²¡è¡¥é¢˜&amp;hellip;ï¼‰
ä»£ç ï¼ˆcopyçš„ï¼‰ const int mod = 1e8 - 7; long long n, x[10000005], p[1000005], ans = 0; struct fire { int hi, bh; } l1[1000005], l2[1000005]; bool cmp1(fire a, fire b) { return a.hi &amp;lt; b.hi; } void msort(int s, int t)//å½’å¹¶æ’åº; { if (s == t)return; int mid = (s &#43; t) / 2; msort(s, mid); msort(mid &#43; 1, t); int i = s, k = s, j = mid &#43; 1; while (i &amp;lt;= mid &amp;amp;&amp;amp; j &amp;lt;= t) { if (x[i] &amp;lt;= x[j]) { p[k] = x[i]; &#43;&#43;k; &#43;&#43;i; } else { p[k] = x[j]; &#43;&#43;k; &#43;&#43;j; ans = (ans &#43; mid - i &#43; 1) % mod; //æ­¤å¤„æ‰¾åˆ°é€†åºå¯¹ï¼Œmid-i~midä¸­æ•°å…¨éƒ½ä¸jæ„æˆé€†åºï¼Œè¿˜ä¼šå°‘ç®—ä¸€ä¸ªï¼Œ&#43;1; } } while (i &amp;lt;= mid) { p[k] = x[i]; &#43;&#43;k; &#43;&#43;i; } while (j &amp;lt;= t) { p[k] = x[j]; &#43;&#43;k; &#43;&#43;j; } for (int i = s; i &amp;lt;= t; i&#43;&#43;) { x[i] = p[i]; } } int main() { scanf(&amp;#34;%lld&amp;#34;, &amp;amp;n); for (int i = 1; i &amp;lt;= n; i&#43;&#43;) scanf(&amp;#34;%d&amp;#34;, &amp;amp;l1[i].hi), l1[i].bh = i; for (int i = 1; i &amp;lt;= n; i&#43;&#43;) scanf(&amp;#34;%d&amp;#34;, &amp;amp;l2[i].hi), l2[i].bh = i; sort(l1 &#43; 1, l1 &#43; n &#43; 1, cmp1); sort(l2 &#43; 1, l2 &#43; n &#43; 1, cmp1); //æ’åº; for (int i = 1; i &amp;lt;= n; i&#43;&#43;) x[l2[i].bh] = l1[i].bh; msort(1, n); //è°ƒç”¨å½’å¹¶; printf(&amp;#34;%lld&amp;#34;, ans); return 0; } 4.23 (BFSæ¿é¢˜) é¢˜ç›®é“¾æ¥
é¢˜ç›®æè¿° ç»™å‡ºä¸€ä¸ª N ä¸ªé¡¶ç‚¹ M æ¡è¾¹çš„æ— å‘æ— æƒå›¾ã€‚
é—®ä»é¡¶ç‚¹ 1 å¼€å§‹ï¼Œåˆ°å…¶ä»–æ¯ä¸ªç‚¹çš„æœ€çŸ­è·¯æœ‰å‡ æ¡ã€‚
æ€è·¯ BFSæ¿é¢˜ï¼Œæ¯æ¬¡éå†çš„æ—¶å€™è®°å½•å±‚æ•°ï¼Œå¦‚æœå½“å‰éå†åˆ°çš„$x$èŠ‚ç‚¹æ˜¯$t$èŠ‚ç‚¹çš„ä¸‹ä¸€å±‚ï¼Œé‚£ä¹ˆ$x$çš„æœ€çŸ­è·¯æ•°é‡å°±æ˜¯å½“å‰$x$çš„æœ€çŸ­è·¯æ•°é‡åŠ ä¸Š$t$çš„æœ€çŸ­è·¯æ•°é‡
å› ä¸ºæ¯æ¬¡éå†åˆ°çš„æ—¶å€™éƒ½ä¼šåŠ ä¸€éï¼Œå°±ç›¸å½“äºä¹˜æ³•äº†
ä»£ç  const int N = 1e6 &#43; 5; const int mod = 100003; vector&amp;lt;int&amp;gt;e[N]; int used[N]; int cnt[N]; int dep[N]; void bfs(){ queue&amp;lt;int&amp;gt;q; dep[1] = 0; used[1] = 1; q.push(1), cnt[1] = 1; while (!q.empty()){ int t = q.front(); q.pop(); for (auto x : e[t]) { if (!used[x]){ used[x] = 1;//æ ‡è®°ä¸ºéå†è¿‡äº† dep[x] = dep[t] &#43; 1;//å±‚æ•°&#43;&#43;(å› ä¸ºæ˜¯bfsæ‰€ä»¥å±‚æ•°ä¸€å®šæ˜¯æœ€å°çš„) q.push(x); } if (dep[x] == dep[t] &#43; 1){//å¦‚æœå½“å‰xæ˜¯tçš„ä¸‹ä¸€å±‚ cnt[x] = (cnt[x] &#43; cnt[t]) % mod;//é‚£ä¹ˆxçš„æœ€çŸ­è·¯æ•°é‡å†åŠ ä¸Štçš„æœ€çŸ­è·¯æ•°é‡(æ¯ä¸ªxéƒ½åŠ ç›¸å½“äºä¹˜) } } } } void solve(){ int n, m; cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; m; for (int i = 0; i &amp;lt; m; i&#43;&#43;) { int x , y; cin &amp;gt;&amp;gt; x &amp;gt;&amp;gt; y; e[x].push_back(y); e[y].push_back(x); } bfs(); for (int i = 1; i &amp;lt;= n; i&#43;&#43;) { cout &amp;lt;&amp;lt; cnt[i] &amp;lt;&amp;lt; endl; } } int main(){ ios::sync_with_stdio(false); cin.tie(nullptr); solve(); return 0; } 4.26 é¢˜ç›®é“¾æ¥ æè¿° åˆ¤æ–­æœ‰æ²¡æœ‰ä¸€ç§åŠæ³•å¯ä»¥å°†ä»$1$ åˆ° $N$ çš„ $N$ä¸ªäººæ’æˆä¸€æ’ï¼Œå¹¶æ»¡è¶³ç»™å®šçš„$M$ä¸ªè¦æ±‚ã€‚
å¯¹äºæ¯ä¸ªè¦æ±‚ç»™å‡ºä¸¤ä¸ªæ•´æ•° $A_i$å’Œ$B_i$ï¼Œè¡¨ç¤ºç¼–å·$A_i$å’Œ$B_i$çš„äººæ˜¯ç›¸é‚»çš„
ä¿è¯æ¯ä¸ªè¦æ±‚éƒ½ä¸åŒï¼Œå³ç»™å‡º$1$ï¼Œ$5$å°±ä¸ä¼šå†ç»™å‡º$5$ï¼Œ$1$æˆ–é‡å¤çš„
åˆ†æ æ»¡è¶³é¢˜ç›®è¦æ±‚çš„åªæœ‰æ— ç¯çš„é“¾
å³åˆ¤æ–­ä¸¤ä»¶äº‹ï¼š
1.åº¦æ•°æ˜¯å¦å¤§äºç­‰äº$2$
2.æ˜¯å¦æœ‰ç¯
ä»£ç  const int N = 1e5 &#43; 5; int father[N]; int ufind(int x) {//å¯»æ‰¾æ“ä½œ if (x == father[x]) return x; int fx = ufind(father[x]); return father[x] = fx; } void solve() { int n, m; cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; m; for (int i = 0; i &amp;lt;= n; i&#43;&#43;) { father[i] = i; } map&amp;lt;int, int&amp;gt; mp; int ok = (n &amp;gt; m); // è¿™ä¸€ç‚¹æœ€å¼€å§‹æ²¡æƒ³åˆ°ï¼Œå¦‚æœè¦æ±‚å¤§äºn - 1æ¡å¯ä»¥ç›´æ¥è¿”å› if (!ok) { cout &amp;lt;&amp;lt; &amp;#34;No&amp;#34; &amp;lt;&amp;lt; endl; return; } int x, y; for (int i = 0; ok &amp;amp;&amp;amp; i &amp;lt; m; i&#43;&#43;) { cin &amp;gt;&amp;gt; x &amp;gt;&amp;gt; y; mp[x]&#43;&#43;; mp[y]&#43;&#43;; int fx = ufind(x); int fy = ufind(y); if (fx != fy) { father[fx] = y; } ok = (fx != fy); // åˆ¤æ–­æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªï¼ˆä¹ŸåŒ…æ‹¬åˆ¤æ–­ç¯ï¼‰ if (mp[x] &amp;gt; 2 || mp[y] &amp;gt; 2) // åˆ¤æ–­åº¦æ•° ok = 0; } cout &amp;lt;&amp;lt; (ok ? &amp;#34;Yes&amp;#34; : &amp;#34;No&amp;#34;) &amp;lt;&amp;lt; endl; } int main() { ios::sync_with_stdio(false); cin.tie(nullptr); solve(); return 0; } å¥½åƒèƒ½é»˜å†™å¹¶æŸ¥é›†ä¸­â€œå¹¶â€çš„éƒ¨åˆ†äº†= =
æŸ¥çš„éƒ¨åˆ†å¥½åƒè¿˜æ˜¯åªèƒ½æŠ„æ¿å­ èœèœQWQ
ï¼ˆçªç„¶å‘ç°å›¾è®ºçš„éƒ¨åˆ†æ¶‰åŠçš„ä¸å¤š
4.27 é¢˜ç›®é“¾æ¥ æè¿° ç°ç»™å®šä¸¤ä¸ª å››ä½ç´ æ•° a,bã€‚ ä½ å¯ä»¥æ‰§è¡Œå¤šæ¬¡ä¸‹é¢çš„æ“ä½œï¼š
ä¿®æ”¹æ•°å­— a çš„æŸä¸€ä½, ä½¿å…¶æˆä¸ºå¦ä¸€ä¸ª å››ä½ç´ æ•°ã€‚
ä¾‹å¦‚ï¼Œ1033â†’1733ï¼Œå…¶ä¸­ 1033 ä¸ 1733 å‡ä¸ºç´ æ•°ã€‚
é—®è‡³å°‘å¤šå°‘æ¬¡å˜æ¢åèƒ½ä» a å¾—åˆ° b ? æˆ–å›ç­”ä¸å¯èƒ½
æ€è·¯ æƒ³åˆ°äº†å’ŒcfæŸåœºçš„2Bå¾ˆåƒï¼Œåªä¸è¿‡é‚£åœºä¸éœ€è¦æŒ‰ä½å¤„ç†ï¼Œè€Œæ˜¯åŠ 1æˆ–åŠ 2åå–ä½™ï¼Œåšæ³•æ˜¯BFSã€‚é‚£è¿™é¢˜ä¹Ÿä¸€æ ·ï¼Œä½†å¼€å§‹æ²¡æƒ³åˆ°æ€ä¹ˆå»æšä¸¾æ¯ä¸€ä½çš„æ•°å­—çš„å˜åŒ–ï¼Œç”šè‡³æƒ³ç”¨to_string()æ¥åšï¼Œåæ¥å‘ç°å–æ¯ä¸€ä½å–æ¨¡åé™¤å°±è¡Œäº†&amp;hellip;æ˜¯Cè¯­è¨€æœŸæœ«è€ƒè¯•éš¾åº¦çš„é¢˜&amp;hellip;
æé†’è‡ªå·±å¤šæ³¨æ„ç»†èŠ‚é—®é¢˜ï¼Œå¤šä¸ª$testcase$çš„æ—¶å€™ä¸€å®šè¦å°†å…¨å±€å˜é‡æ¸…ç©ºï¼ï¼ï¼
æ›´å¤šç»†èŠ‚è§ä»£ç 
ä»£ç  int prime[10000], used[10000]; int cnt[10000]; void init(){ int j; for (int i = 1000; i &amp;lt;= 10000; i&#43;&#43;) { for (j = 2; j &amp;lt; i; j&#43;&#43;) { if (i % j == 0){ prime[i] = 0; break; } } if (j == i){ prime[i] = 1; } } } int bfs(int x, int y){ for (int i = 1000; i &amp;lt; 10000; i&#43;&#43;) { // å› ä¸ºå¿˜æ¸…ç©ºWAäº†ä¸€æ¬¡ cnt[i] = 0; used[i] = 0; } queue&amp;lt;int&amp;gt;q; int temp = 0, v[4]; q.push(x); used[x] = 1; cnt[x] = 0; while (!q.empty()){ int t = q.front(); if (t == y) return cnt[t]; q.pop(); v[0] = t / 1000; v[1] = t % 1000 / 100; v[2] = t % 100 / 10; v[3] = t % 10; for (int i = 0; i &amp;lt; 4; i&#43;&#43;) { int vtemp = v[i]; for (int j = 0; j &amp;lt; 10; j&#43;&#43;) { if (j != vtemp){ v[i] = j; temp = 1000 * v[0] &#43; 100 * v[1] &#43; 10 * v[2] &#43; v[3]; if (prime[temp] &amp;amp;&amp;amp; !used[temp]){ q.push(temp); used[temp] = 1; cnt[temp] = cnt[t] &#43; 1; } // if (temp == y) // return cnt[temp];åæ¥å‘ç°è¿™æ­¥å®Œå…¨æ˜¯å¤šä½™çš„ï¼Œå› ä¸ºå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡åˆ°çš„è¯cntåº”è¯¥æ˜¯æ²¡å€¼çš„ } v[i] = vtemp; // å†™çš„æ—¶å€™é—æ¼äº†è¿™ä¸€æ­¥ï¼Œåœ¨è¿›å…¥ä¸‹ä¸€ä¸ªiçš„å¾ªç¯ä¹‹å‰è¦å°†ä¸Šä¸€æ¬¡çš„v[i]å¤åŸ } } } return -1; // å‰é¢éƒ½æ²¡returnè¿™é‡Œåªèƒ½return -1äº† } void solve(){ int n; cin &amp;gt;&amp;gt; n; init(); int a, b; while (n--){ cin &amp;gt;&amp;gt; a &amp;gt;&amp;gt; b; cout &amp;lt;&amp;lt; bfs(a, b) &amp;lt;&amp;lt; endl; } } è¿™ç§ç®€å•é¢˜ä»¥åäº‰å–ååˆ†é’Ÿä»¥å†…åˆ‡å§ï¼ˆ
4.28 é¢˜ç›®é“¾æ¥ æè¿° ç»™å®šä¸€ä¸ª$H$è¡Œå’Œ$W$åˆ—çš„ç½‘æ ¼ï¼Œæˆ‘ä»¬è®©$(i,j)$è¡¨ç¤ºä»åŒ—è¾¹ç¬¬iè¡Œå’Œä»è¥¿è¾¹ç¬¬jåˆ—çš„ç½‘æ ¼
åœ¨ä¸€ä¸ªç½‘æ ¼ä¸Šä¿®å»ºä¸€ä¸ªç«è½¦ç«™çš„ä»£ä»·æ˜¯$A_{i,j}$
åœ¨ä¸¤ä¸ªç½‘æ ¼é—´å»ºä¸€æ¡é“è½¨çš„ä»£ä»·æ˜¯è¿™ä¸¤ä¸ªç‚¹ä½ç½®çš„æ›¼å“ˆé¡¿è·ç¦»
æ±‚é€ ä¸€æ¡é“è·¯çš„æœ€å°èŠ±è´¹
'><title>NamomoCampæ¯æ—¥ä¸€é¢˜ï¼ˆdiv2ï¼‰</title>

<link rel='canonical' href='https://inariindream.github.io/blog/2022/04/23/namomocamp%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98div2/'>

<link rel="stylesheet" href="/scss/style.min.dabe5a3caa768ceba518e17d6f219cfe25b185d1e71692088025722b0f6fbc5c.css"><meta property='og:title' content='NamomoCampæ¯æ—¥ä¸€é¢˜ï¼ˆdiv2ï¼‰'>
<meta property='og:description' content='4.22 ï¼ˆå¾…è¡¥ï¼‰ é¢˜ç›®é“¾æ¥
é¢˜è§£é“¾æ¥
æè¿° ç»™å®šä¸¤ä¸ªé˜Ÿåˆ—$a$,$b$ï¼Œæ¯é˜Ÿ$n$äººï¼Œèº«é«˜åˆ†åˆ«ä¸º$a_i$, $b_i$
æ¯é˜Ÿçš„äººéƒ½å¯ä»¥ä¸å‰åç›¸é‚»è€…äº¤æ¢ä½ç½®ï¼Œæ¬¡æ•°ä¸é™ï¼Œä»…åœ¨åŒé˜Ÿæ¢ï¼Œé—®ä½¿$\sum (a_i - b_i)^2$æœ€å°çš„äº¤æ¢æ¬¡æ•°
æ€è·¯ ä¸¤é˜ŸåŒæ—¶æ¢å’Œåªæ¢ä¸€é˜Ÿæ•ˆæœç›¸åŒï¼Œå› æ­¤åªéœ€é€‰ä¸€é˜Ÿæ¥æ¢ã€‚
$\sum (a_i - b_i)^2 = \sum((a_i &#43; b_i)^2 - 4 * a_i * b_i)$
å‰è€…æ˜¯å®šå€¼ï¼Œå› æ­¤åªéœ€æ‰¾åˆ°ä½¿åé¢é‚£é¡¹æœ€å¤§çš„æ–¹å¼å³å¯
å°±æ˜¯æ±‚ä¸€ä¸ªæ•°åˆ—ç›¸å¯¹äºå¦ä¸€ä¸ªçš„é€†åºå¯¹ï¼ˆå¥½åƒæŸæ¬¡abcåšè¿‡ï¼Œä½†åæ¥æ²¡è¡¥é¢˜&amp;hellip;ï¼‰
ä»£ç ï¼ˆcopyçš„ï¼‰ const int mod = 1e8 - 7; long long n, x[10000005], p[1000005], ans = 0; struct fire { int hi, bh; } l1[1000005], l2[1000005]; bool cmp1(fire a, fire b) { return a.hi &amp;lt; b.hi; } void msort(int s, int t)//å½’å¹¶æ’åº; { if (s == t)return; int mid = (s &#43; t) / 2; msort(s, mid); msort(mid &#43; 1, t); int i = s, k = s, j = mid &#43; 1; while (i &amp;lt;= mid &amp;amp;&amp;amp; j &amp;lt;= t) { if (x[i] &amp;lt;= x[j]) { p[k] = x[i]; &#43;&#43;k; &#43;&#43;i; } else { p[k] = x[j]; &#43;&#43;k; &#43;&#43;j; ans = (ans &#43; mid - i &#43; 1) % mod; //æ­¤å¤„æ‰¾åˆ°é€†åºå¯¹ï¼Œmid-i~midä¸­æ•°å…¨éƒ½ä¸jæ„æˆé€†åºï¼Œè¿˜ä¼šå°‘ç®—ä¸€ä¸ªï¼Œ&#43;1; } } while (i &amp;lt;= mid) { p[k] = x[i]; &#43;&#43;k; &#43;&#43;i; } while (j &amp;lt;= t) { p[k] = x[j]; &#43;&#43;k; &#43;&#43;j; } for (int i = s; i &amp;lt;= t; i&#43;&#43;) { x[i] = p[i]; } } int main() { scanf(&amp;#34;%lld&amp;#34;, &amp;amp;n); for (int i = 1; i &amp;lt;= n; i&#43;&#43;) scanf(&amp;#34;%d&amp;#34;, &amp;amp;l1[i].hi), l1[i].bh = i; for (int i = 1; i &amp;lt;= n; i&#43;&#43;) scanf(&amp;#34;%d&amp;#34;, &amp;amp;l2[i].hi), l2[i].bh = i; sort(l1 &#43; 1, l1 &#43; n &#43; 1, cmp1); sort(l2 &#43; 1, l2 &#43; n &#43; 1, cmp1); //æ’åº; for (int i = 1; i &amp;lt;= n; i&#43;&#43;) x[l2[i].bh] = l1[i].bh; msort(1, n); //è°ƒç”¨å½’å¹¶; printf(&amp;#34;%lld&amp;#34;, ans); return 0; } 4.23 (BFSæ¿é¢˜) é¢˜ç›®é“¾æ¥
é¢˜ç›®æè¿° ç»™å‡ºä¸€ä¸ª N ä¸ªé¡¶ç‚¹ M æ¡è¾¹çš„æ— å‘æ— æƒå›¾ã€‚
é—®ä»é¡¶ç‚¹ 1 å¼€å§‹ï¼Œåˆ°å…¶ä»–æ¯ä¸ªç‚¹çš„æœ€çŸ­è·¯æœ‰å‡ æ¡ã€‚
æ€è·¯ BFSæ¿é¢˜ï¼Œæ¯æ¬¡éå†çš„æ—¶å€™è®°å½•å±‚æ•°ï¼Œå¦‚æœå½“å‰éå†åˆ°çš„$x$èŠ‚ç‚¹æ˜¯$t$èŠ‚ç‚¹çš„ä¸‹ä¸€å±‚ï¼Œé‚£ä¹ˆ$x$çš„æœ€çŸ­è·¯æ•°é‡å°±æ˜¯å½“å‰$x$çš„æœ€çŸ­è·¯æ•°é‡åŠ ä¸Š$t$çš„æœ€çŸ­è·¯æ•°é‡
å› ä¸ºæ¯æ¬¡éå†åˆ°çš„æ—¶å€™éƒ½ä¼šåŠ ä¸€éï¼Œå°±ç›¸å½“äºä¹˜æ³•äº†
ä»£ç  const int N = 1e6 &#43; 5; const int mod = 100003; vector&amp;lt;int&amp;gt;e[N]; int used[N]; int cnt[N]; int dep[N]; void bfs(){ queue&amp;lt;int&amp;gt;q; dep[1] = 0; used[1] = 1; q.push(1), cnt[1] = 1; while (!q.empty()){ int t = q.front(); q.pop(); for (auto x : e[t]) { if (!used[x]){ used[x] = 1;//æ ‡è®°ä¸ºéå†è¿‡äº† dep[x] = dep[t] &#43; 1;//å±‚æ•°&#43;&#43;(å› ä¸ºæ˜¯bfsæ‰€ä»¥å±‚æ•°ä¸€å®šæ˜¯æœ€å°çš„) q.push(x); } if (dep[x] == dep[t] &#43; 1){//å¦‚æœå½“å‰xæ˜¯tçš„ä¸‹ä¸€å±‚ cnt[x] = (cnt[x] &#43; cnt[t]) % mod;//é‚£ä¹ˆxçš„æœ€çŸ­è·¯æ•°é‡å†åŠ ä¸Štçš„æœ€çŸ­è·¯æ•°é‡(æ¯ä¸ªxéƒ½åŠ ç›¸å½“äºä¹˜) } } } } void solve(){ int n, m; cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; m; for (int i = 0; i &amp;lt; m; i&#43;&#43;) { int x , y; cin &amp;gt;&amp;gt; x &amp;gt;&amp;gt; y; e[x].push_back(y); e[y].push_back(x); } bfs(); for (int i = 1; i &amp;lt;= n; i&#43;&#43;) { cout &amp;lt;&amp;lt; cnt[i] &amp;lt;&amp;lt; endl; } } int main(){ ios::sync_with_stdio(false); cin.tie(nullptr); solve(); return 0; } 4.26 é¢˜ç›®é“¾æ¥ æè¿° åˆ¤æ–­æœ‰æ²¡æœ‰ä¸€ç§åŠæ³•å¯ä»¥å°†ä»$1$ åˆ° $N$ çš„ $N$ä¸ªäººæ’æˆä¸€æ’ï¼Œå¹¶æ»¡è¶³ç»™å®šçš„$M$ä¸ªè¦æ±‚ã€‚
å¯¹äºæ¯ä¸ªè¦æ±‚ç»™å‡ºä¸¤ä¸ªæ•´æ•° $A_i$å’Œ$B_i$ï¼Œè¡¨ç¤ºç¼–å·$A_i$å’Œ$B_i$çš„äººæ˜¯ç›¸é‚»çš„
ä¿è¯æ¯ä¸ªè¦æ±‚éƒ½ä¸åŒï¼Œå³ç»™å‡º$1$ï¼Œ$5$å°±ä¸ä¼šå†ç»™å‡º$5$ï¼Œ$1$æˆ–é‡å¤çš„
åˆ†æ æ»¡è¶³é¢˜ç›®è¦æ±‚çš„åªæœ‰æ— ç¯çš„é“¾
å³åˆ¤æ–­ä¸¤ä»¶äº‹ï¼š
1.åº¦æ•°æ˜¯å¦å¤§äºç­‰äº$2$
2.æ˜¯å¦æœ‰ç¯
ä»£ç  const int N = 1e5 &#43; 5; int father[N]; int ufind(int x) {//å¯»æ‰¾æ“ä½œ if (x == father[x]) return x; int fx = ufind(father[x]); return father[x] = fx; } void solve() { int n, m; cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; m; for (int i = 0; i &amp;lt;= n; i&#43;&#43;) { father[i] = i; } map&amp;lt;int, int&amp;gt; mp; int ok = (n &amp;gt; m); // è¿™ä¸€ç‚¹æœ€å¼€å§‹æ²¡æƒ³åˆ°ï¼Œå¦‚æœè¦æ±‚å¤§äºn - 1æ¡å¯ä»¥ç›´æ¥è¿”å› if (!ok) { cout &amp;lt;&amp;lt; &amp;#34;No&amp;#34; &amp;lt;&amp;lt; endl; return; } int x, y; for (int i = 0; ok &amp;amp;&amp;amp; i &amp;lt; m; i&#43;&#43;) { cin &amp;gt;&amp;gt; x &amp;gt;&amp;gt; y; mp[x]&#43;&#43;; mp[y]&#43;&#43;; int fx = ufind(x); int fy = ufind(y); if (fx != fy) { father[fx] = y; } ok = (fx != fy); // åˆ¤æ–­æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªï¼ˆä¹ŸåŒ…æ‹¬åˆ¤æ–­ç¯ï¼‰ if (mp[x] &amp;gt; 2 || mp[y] &amp;gt; 2) // åˆ¤æ–­åº¦æ•° ok = 0; } cout &amp;lt;&amp;lt; (ok ? &amp;#34;Yes&amp;#34; : &amp;#34;No&amp;#34;) &amp;lt;&amp;lt; endl; } int main() { ios::sync_with_stdio(false); cin.tie(nullptr); solve(); return 0; } å¥½åƒèƒ½é»˜å†™å¹¶æŸ¥é›†ä¸­â€œå¹¶â€çš„éƒ¨åˆ†äº†= =
æŸ¥çš„éƒ¨åˆ†å¥½åƒè¿˜æ˜¯åªèƒ½æŠ„æ¿å­ èœèœQWQ
ï¼ˆçªç„¶å‘ç°å›¾è®ºçš„éƒ¨åˆ†æ¶‰åŠçš„ä¸å¤š
4.27 é¢˜ç›®é“¾æ¥ æè¿° ç°ç»™å®šä¸¤ä¸ª å››ä½ç´ æ•° a,bã€‚ ä½ å¯ä»¥æ‰§è¡Œå¤šæ¬¡ä¸‹é¢çš„æ“ä½œï¼š
ä¿®æ”¹æ•°å­— a çš„æŸä¸€ä½, ä½¿å…¶æˆä¸ºå¦ä¸€ä¸ª å››ä½ç´ æ•°ã€‚
ä¾‹å¦‚ï¼Œ1033â†’1733ï¼Œå…¶ä¸­ 1033 ä¸ 1733 å‡ä¸ºç´ æ•°ã€‚
é—®è‡³å°‘å¤šå°‘æ¬¡å˜æ¢åèƒ½ä» a å¾—åˆ° b ? æˆ–å›ç­”ä¸å¯èƒ½
æ€è·¯ æƒ³åˆ°äº†å’ŒcfæŸåœºçš„2Bå¾ˆåƒï¼Œåªä¸è¿‡é‚£åœºä¸éœ€è¦æŒ‰ä½å¤„ç†ï¼Œè€Œæ˜¯åŠ 1æˆ–åŠ 2åå–ä½™ï¼Œåšæ³•æ˜¯BFSã€‚é‚£è¿™é¢˜ä¹Ÿä¸€æ ·ï¼Œä½†å¼€å§‹æ²¡æƒ³åˆ°æ€ä¹ˆå»æšä¸¾æ¯ä¸€ä½çš„æ•°å­—çš„å˜åŒ–ï¼Œç”šè‡³æƒ³ç”¨to_string()æ¥åšï¼Œåæ¥å‘ç°å–æ¯ä¸€ä½å–æ¨¡åé™¤å°±è¡Œäº†&amp;hellip;æ˜¯Cè¯­è¨€æœŸæœ«è€ƒè¯•éš¾åº¦çš„é¢˜&amp;hellip;
æé†’è‡ªå·±å¤šæ³¨æ„ç»†èŠ‚é—®é¢˜ï¼Œå¤šä¸ª$testcase$çš„æ—¶å€™ä¸€å®šè¦å°†å…¨å±€å˜é‡æ¸…ç©ºï¼ï¼ï¼
æ›´å¤šç»†èŠ‚è§ä»£ç 
ä»£ç  int prime[10000], used[10000]; int cnt[10000]; void init(){ int j; for (int i = 1000; i &amp;lt;= 10000; i&#43;&#43;) { for (j = 2; j &amp;lt; i; j&#43;&#43;) { if (i % j == 0){ prime[i] = 0; break; } } if (j == i){ prime[i] = 1; } } } int bfs(int x, int y){ for (int i = 1000; i &amp;lt; 10000; i&#43;&#43;) { // å› ä¸ºå¿˜æ¸…ç©ºWAäº†ä¸€æ¬¡ cnt[i] = 0; used[i] = 0; } queue&amp;lt;int&amp;gt;q; int temp = 0, v[4]; q.push(x); used[x] = 1; cnt[x] = 0; while (!q.empty()){ int t = q.front(); if (t == y) return cnt[t]; q.pop(); v[0] = t / 1000; v[1] = t % 1000 / 100; v[2] = t % 100 / 10; v[3] = t % 10; for (int i = 0; i &amp;lt; 4; i&#43;&#43;) { int vtemp = v[i]; for (int j = 0; j &amp;lt; 10; j&#43;&#43;) { if (j != vtemp){ v[i] = j; temp = 1000 * v[0] &#43; 100 * v[1] &#43; 10 * v[2] &#43; v[3]; if (prime[temp] &amp;amp;&amp;amp; !used[temp]){ q.push(temp); used[temp] = 1; cnt[temp] = cnt[t] &#43; 1; } // if (temp == y) // return cnt[temp];åæ¥å‘ç°è¿™æ­¥å®Œå…¨æ˜¯å¤šä½™çš„ï¼Œå› ä¸ºå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡åˆ°çš„è¯cntåº”è¯¥æ˜¯æ²¡å€¼çš„ } v[i] = vtemp; // å†™çš„æ—¶å€™é—æ¼äº†è¿™ä¸€æ­¥ï¼Œåœ¨è¿›å…¥ä¸‹ä¸€ä¸ªiçš„å¾ªç¯ä¹‹å‰è¦å°†ä¸Šä¸€æ¬¡çš„v[i]å¤åŸ } } } return -1; // å‰é¢éƒ½æ²¡returnè¿™é‡Œåªèƒ½return -1äº† } void solve(){ int n; cin &amp;gt;&amp;gt; n; init(); int a, b; while (n--){ cin &amp;gt;&amp;gt; a &amp;gt;&amp;gt; b; cout &amp;lt;&amp;lt; bfs(a, b) &amp;lt;&amp;lt; endl; } } è¿™ç§ç®€å•é¢˜ä»¥åäº‰å–ååˆ†é’Ÿä»¥å†…åˆ‡å§ï¼ˆ
4.28 é¢˜ç›®é“¾æ¥ æè¿° ç»™å®šä¸€ä¸ª$H$è¡Œå’Œ$W$åˆ—çš„ç½‘æ ¼ï¼Œæˆ‘ä»¬è®©$(i,j)$è¡¨ç¤ºä»åŒ—è¾¹ç¬¬iè¡Œå’Œä»è¥¿è¾¹ç¬¬jåˆ—çš„ç½‘æ ¼
åœ¨ä¸€ä¸ªç½‘æ ¼ä¸Šä¿®å»ºä¸€ä¸ªç«è½¦ç«™çš„ä»£ä»·æ˜¯$A_{i,j}$
åœ¨ä¸¤ä¸ªç½‘æ ¼é—´å»ºä¸€æ¡é“è½¨çš„ä»£ä»·æ˜¯è¿™ä¸¤ä¸ªç‚¹ä½ç½®çš„æ›¼å“ˆé¡¿è·ç¦»
æ±‚é€ ä¸€æ¡é“è·¯çš„æœ€å°èŠ±è´¹
'>
<meta property='og:url' content='https://inariindream.github.io/blog/2022/04/23/namomocamp%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98div2/'>
<meta property='og:site_name' content='Inari&#39;s Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Namomoæ¯æ—¥ä¸€é¢˜' /><meta property='article:published_time' content='2022-04-23T11:56:46&#43;00:00'/><meta property='article:modified_time' content='2022-10-20T19:48:21&#43;08:00'/><meta property='og:image' content='https://s1.ax1x.com/2022/04/27/Lqf2o8.png' />
<meta name="twitter:site" content="@inariindream">
    <meta name="twitter:creator" content="@inariindream"><meta name="twitter:title" content="NamomoCampæ¯æ—¥ä¸€é¢˜ï¼ˆdiv2ï¼‰">
<meta name="twitter:description" content="4.22 ï¼ˆå¾…è¡¥ï¼‰ é¢˜ç›®é“¾æ¥
é¢˜è§£é“¾æ¥
æè¿° ç»™å®šä¸¤ä¸ªé˜Ÿåˆ—$a$,$b$ï¼Œæ¯é˜Ÿ$n$äººï¼Œèº«é«˜åˆ†åˆ«ä¸º$a_i$, $b_i$
æ¯é˜Ÿçš„äººéƒ½å¯ä»¥ä¸å‰åç›¸é‚»è€…äº¤æ¢ä½ç½®ï¼Œæ¬¡æ•°ä¸é™ï¼Œä»…åœ¨åŒé˜Ÿæ¢ï¼Œé—®ä½¿$\sum (a_i - b_i)^2$æœ€å°çš„äº¤æ¢æ¬¡æ•°
æ€è·¯ ä¸¤é˜ŸåŒæ—¶æ¢å’Œåªæ¢ä¸€é˜Ÿæ•ˆæœç›¸åŒï¼Œå› æ­¤åªéœ€é€‰ä¸€é˜Ÿæ¥æ¢ã€‚
$\sum (a_i - b_i)^2 = \sum((a_i &#43; b_i)^2 - 4 * a_i * b_i)$
å‰è€…æ˜¯å®šå€¼ï¼Œå› æ­¤åªéœ€æ‰¾åˆ°ä½¿åé¢é‚£é¡¹æœ€å¤§çš„æ–¹å¼å³å¯
å°±æ˜¯æ±‚ä¸€ä¸ªæ•°åˆ—ç›¸å¯¹äºå¦ä¸€ä¸ªçš„é€†åºå¯¹ï¼ˆå¥½åƒæŸæ¬¡abcåšè¿‡ï¼Œä½†åæ¥æ²¡è¡¥é¢˜&amp;hellip;ï¼‰
ä»£ç ï¼ˆcopyçš„ï¼‰ const int mod = 1e8 - 7; long long n, x[10000005], p[1000005], ans = 0; struct fire { int hi, bh; } l1[1000005], l2[1000005]; bool cmp1(fire a, fire b) { return a.hi &amp;lt; b.hi; } void msort(int s, int t)//å½’å¹¶æ’åº; { if (s == t)return; int mid = (s &#43; t) / 2; msort(s, mid); msort(mid &#43; 1, t); int i = s, k = s, j = mid &#43; 1; while (i &amp;lt;= mid &amp;amp;&amp;amp; j &amp;lt;= t) { if (x[i] &amp;lt;= x[j]) { p[k] = x[i]; &#43;&#43;k; &#43;&#43;i; } else { p[k] = x[j]; &#43;&#43;k; &#43;&#43;j; ans = (ans &#43; mid - i &#43; 1) % mod; //æ­¤å¤„æ‰¾åˆ°é€†åºå¯¹ï¼Œmid-i~midä¸­æ•°å…¨éƒ½ä¸jæ„æˆé€†åºï¼Œè¿˜ä¼šå°‘ç®—ä¸€ä¸ªï¼Œ&#43;1; } } while (i &amp;lt;= mid) { p[k] = x[i]; &#43;&#43;k; &#43;&#43;i; } while (j &amp;lt;= t) { p[k] = x[j]; &#43;&#43;k; &#43;&#43;j; } for (int i = s; i &amp;lt;= t; i&#43;&#43;) { x[i] = p[i]; } } int main() { scanf(&amp;#34;%lld&amp;#34;, &amp;amp;n); for (int i = 1; i &amp;lt;= n; i&#43;&#43;) scanf(&amp;#34;%d&amp;#34;, &amp;amp;l1[i].hi), l1[i].bh = i; for (int i = 1; i &amp;lt;= n; i&#43;&#43;) scanf(&amp;#34;%d&amp;#34;, &amp;amp;l2[i].hi), l2[i].bh = i; sort(l1 &#43; 1, l1 &#43; n &#43; 1, cmp1); sort(l2 &#43; 1, l2 &#43; n &#43; 1, cmp1); //æ’åº; for (int i = 1; i &amp;lt;= n; i&#43;&#43;) x[l2[i].bh] = l1[i].bh; msort(1, n); //è°ƒç”¨å½’å¹¶; printf(&amp;#34;%lld&amp;#34;, ans); return 0; } 4.23 (BFSæ¿é¢˜) é¢˜ç›®é“¾æ¥
é¢˜ç›®æè¿° ç»™å‡ºä¸€ä¸ª N ä¸ªé¡¶ç‚¹ M æ¡è¾¹çš„æ— å‘æ— æƒå›¾ã€‚
é—®ä»é¡¶ç‚¹ 1 å¼€å§‹ï¼Œåˆ°å…¶ä»–æ¯ä¸ªç‚¹çš„æœ€çŸ­è·¯æœ‰å‡ æ¡ã€‚
æ€è·¯ BFSæ¿é¢˜ï¼Œæ¯æ¬¡éå†çš„æ—¶å€™è®°å½•å±‚æ•°ï¼Œå¦‚æœå½“å‰éå†åˆ°çš„$x$èŠ‚ç‚¹æ˜¯$t$èŠ‚ç‚¹çš„ä¸‹ä¸€å±‚ï¼Œé‚£ä¹ˆ$x$çš„æœ€çŸ­è·¯æ•°é‡å°±æ˜¯å½“å‰$x$çš„æœ€çŸ­è·¯æ•°é‡åŠ ä¸Š$t$çš„æœ€çŸ­è·¯æ•°é‡
å› ä¸ºæ¯æ¬¡éå†åˆ°çš„æ—¶å€™éƒ½ä¼šåŠ ä¸€éï¼Œå°±ç›¸å½“äºä¹˜æ³•äº†
ä»£ç  const int N = 1e6 &#43; 5; const int mod = 100003; vector&amp;lt;int&amp;gt;e[N]; int used[N]; int cnt[N]; int dep[N]; void bfs(){ queue&amp;lt;int&amp;gt;q; dep[1] = 0; used[1] = 1; q.push(1), cnt[1] = 1; while (!q.empty()){ int t = q.front(); q.pop(); for (auto x : e[t]) { if (!used[x]){ used[x] = 1;//æ ‡è®°ä¸ºéå†è¿‡äº† dep[x] = dep[t] &#43; 1;//å±‚æ•°&#43;&#43;(å› ä¸ºæ˜¯bfsæ‰€ä»¥å±‚æ•°ä¸€å®šæ˜¯æœ€å°çš„) q.push(x); } if (dep[x] == dep[t] &#43; 1){//å¦‚æœå½“å‰xæ˜¯tçš„ä¸‹ä¸€å±‚ cnt[x] = (cnt[x] &#43; cnt[t]) % mod;//é‚£ä¹ˆxçš„æœ€çŸ­è·¯æ•°é‡å†åŠ ä¸Štçš„æœ€çŸ­è·¯æ•°é‡(æ¯ä¸ªxéƒ½åŠ ç›¸å½“äºä¹˜) } } } } void solve(){ int n, m; cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; m; for (int i = 0; i &amp;lt; m; i&#43;&#43;) { int x , y; cin &amp;gt;&amp;gt; x &amp;gt;&amp;gt; y; e[x].push_back(y); e[y].push_back(x); } bfs(); for (int i = 1; i &amp;lt;= n; i&#43;&#43;) { cout &amp;lt;&amp;lt; cnt[i] &amp;lt;&amp;lt; endl; } } int main(){ ios::sync_with_stdio(false); cin.tie(nullptr); solve(); return 0; } 4.26 é¢˜ç›®é“¾æ¥ æè¿° åˆ¤æ–­æœ‰æ²¡æœ‰ä¸€ç§åŠæ³•å¯ä»¥å°†ä»$1$ åˆ° $N$ çš„ $N$ä¸ªäººæ’æˆä¸€æ’ï¼Œå¹¶æ»¡è¶³ç»™å®šçš„$M$ä¸ªè¦æ±‚ã€‚
å¯¹äºæ¯ä¸ªè¦æ±‚ç»™å‡ºä¸¤ä¸ªæ•´æ•° $A_i$å’Œ$B_i$ï¼Œè¡¨ç¤ºç¼–å·$A_i$å’Œ$B_i$çš„äººæ˜¯ç›¸é‚»çš„
ä¿è¯æ¯ä¸ªè¦æ±‚éƒ½ä¸åŒï¼Œå³ç»™å‡º$1$ï¼Œ$5$å°±ä¸ä¼šå†ç»™å‡º$5$ï¼Œ$1$æˆ–é‡å¤çš„
åˆ†æ æ»¡è¶³é¢˜ç›®è¦æ±‚çš„åªæœ‰æ— ç¯çš„é“¾
å³åˆ¤æ–­ä¸¤ä»¶äº‹ï¼š
1.åº¦æ•°æ˜¯å¦å¤§äºç­‰äº$2$
2.æ˜¯å¦æœ‰ç¯
ä»£ç  const int N = 1e5 &#43; 5; int father[N]; int ufind(int x) {//å¯»æ‰¾æ“ä½œ if (x == father[x]) return x; int fx = ufind(father[x]); return father[x] = fx; } void solve() { int n, m; cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; m; for (int i = 0; i &amp;lt;= n; i&#43;&#43;) { father[i] = i; } map&amp;lt;int, int&amp;gt; mp; int ok = (n &amp;gt; m); // è¿™ä¸€ç‚¹æœ€å¼€å§‹æ²¡æƒ³åˆ°ï¼Œå¦‚æœè¦æ±‚å¤§äºn - 1æ¡å¯ä»¥ç›´æ¥è¿”å› if (!ok) { cout &amp;lt;&amp;lt; &amp;#34;No&amp;#34; &amp;lt;&amp;lt; endl; return; } int x, y; for (int i = 0; ok &amp;amp;&amp;amp; i &amp;lt; m; i&#43;&#43;) { cin &amp;gt;&amp;gt; x &amp;gt;&amp;gt; y; mp[x]&#43;&#43;; mp[y]&#43;&#43;; int fx = ufind(x); int fy = ufind(y); if (fx != fy) { father[fx] = y; } ok = (fx != fy); // åˆ¤æ–­æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªï¼ˆä¹ŸåŒ…æ‹¬åˆ¤æ–­ç¯ï¼‰ if (mp[x] &amp;gt; 2 || mp[y] &amp;gt; 2) // åˆ¤æ–­åº¦æ•° ok = 0; } cout &amp;lt;&amp;lt; (ok ? &amp;#34;Yes&amp;#34; : &amp;#34;No&amp;#34;) &amp;lt;&amp;lt; endl; } int main() { ios::sync_with_stdio(false); cin.tie(nullptr); solve(); return 0; } å¥½åƒèƒ½é»˜å†™å¹¶æŸ¥é›†ä¸­â€œå¹¶â€çš„éƒ¨åˆ†äº†= =
æŸ¥çš„éƒ¨åˆ†å¥½åƒè¿˜æ˜¯åªèƒ½æŠ„æ¿å­ èœèœQWQ
ï¼ˆçªç„¶å‘ç°å›¾è®ºçš„éƒ¨åˆ†æ¶‰åŠçš„ä¸å¤š
4.27 é¢˜ç›®é“¾æ¥ æè¿° ç°ç»™å®šä¸¤ä¸ª å››ä½ç´ æ•° a,bã€‚ ä½ å¯ä»¥æ‰§è¡Œå¤šæ¬¡ä¸‹é¢çš„æ“ä½œï¼š
ä¿®æ”¹æ•°å­— a çš„æŸä¸€ä½, ä½¿å…¶æˆä¸ºå¦ä¸€ä¸ª å››ä½ç´ æ•°ã€‚
ä¾‹å¦‚ï¼Œ1033â†’1733ï¼Œå…¶ä¸­ 1033 ä¸ 1733 å‡ä¸ºç´ æ•°ã€‚
é—®è‡³å°‘å¤šå°‘æ¬¡å˜æ¢åèƒ½ä» a å¾—åˆ° b ? æˆ–å›ç­”ä¸å¯èƒ½
æ€è·¯ æƒ³åˆ°äº†å’ŒcfæŸåœºçš„2Bå¾ˆåƒï¼Œåªä¸è¿‡é‚£åœºä¸éœ€è¦æŒ‰ä½å¤„ç†ï¼Œè€Œæ˜¯åŠ 1æˆ–åŠ 2åå–ä½™ï¼Œåšæ³•æ˜¯BFSã€‚é‚£è¿™é¢˜ä¹Ÿä¸€æ ·ï¼Œä½†å¼€å§‹æ²¡æƒ³åˆ°æ€ä¹ˆå»æšä¸¾æ¯ä¸€ä½çš„æ•°å­—çš„å˜åŒ–ï¼Œç”šè‡³æƒ³ç”¨to_string()æ¥åšï¼Œåæ¥å‘ç°å–æ¯ä¸€ä½å–æ¨¡åé™¤å°±è¡Œäº†&amp;hellip;æ˜¯Cè¯­è¨€æœŸæœ«è€ƒè¯•éš¾åº¦çš„é¢˜&amp;hellip;
æé†’è‡ªå·±å¤šæ³¨æ„ç»†èŠ‚é—®é¢˜ï¼Œå¤šä¸ª$testcase$çš„æ—¶å€™ä¸€å®šè¦å°†å…¨å±€å˜é‡æ¸…ç©ºï¼ï¼ï¼
æ›´å¤šç»†èŠ‚è§ä»£ç 
ä»£ç  int prime[10000], used[10000]; int cnt[10000]; void init(){ int j; for (int i = 1000; i &amp;lt;= 10000; i&#43;&#43;) { for (j = 2; j &amp;lt; i; j&#43;&#43;) { if (i % j == 0){ prime[i] = 0; break; } } if (j == i){ prime[i] = 1; } } } int bfs(int x, int y){ for (int i = 1000; i &amp;lt; 10000; i&#43;&#43;) { // å› ä¸ºå¿˜æ¸…ç©ºWAäº†ä¸€æ¬¡ cnt[i] = 0; used[i] = 0; } queue&amp;lt;int&amp;gt;q; int temp = 0, v[4]; q.push(x); used[x] = 1; cnt[x] = 0; while (!q.empty()){ int t = q.front(); if (t == y) return cnt[t]; q.pop(); v[0] = t / 1000; v[1] = t % 1000 / 100; v[2] = t % 100 / 10; v[3] = t % 10; for (int i = 0; i &amp;lt; 4; i&#43;&#43;) { int vtemp = v[i]; for (int j = 0; j &amp;lt; 10; j&#43;&#43;) { if (j != vtemp){ v[i] = j; temp = 1000 * v[0] &#43; 100 * v[1] &#43; 10 * v[2] &#43; v[3]; if (prime[temp] &amp;amp;&amp;amp; !used[temp]){ q.push(temp); used[temp] = 1; cnt[temp] = cnt[t] &#43; 1; } // if (temp == y) // return cnt[temp];åæ¥å‘ç°è¿™æ­¥å®Œå…¨æ˜¯å¤šä½™çš„ï¼Œå› ä¸ºå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡åˆ°çš„è¯cntåº”è¯¥æ˜¯æ²¡å€¼çš„ } v[i] = vtemp; // å†™çš„æ—¶å€™é—æ¼äº†è¿™ä¸€æ­¥ï¼Œåœ¨è¿›å…¥ä¸‹ä¸€ä¸ªiçš„å¾ªç¯ä¹‹å‰è¦å°†ä¸Šä¸€æ¬¡çš„v[i]å¤åŸ } } } return -1; // å‰é¢éƒ½æ²¡returnè¿™é‡Œåªèƒ½return -1äº† } void solve(){ int n; cin &amp;gt;&amp;gt; n; init(); int a, b; while (n--){ cin &amp;gt;&amp;gt; a &amp;gt;&amp;gt; b; cout &amp;lt;&amp;lt; bfs(a, b) &amp;lt;&amp;lt; endl; } } è¿™ç§ç®€å•é¢˜ä»¥åäº‰å–ååˆ†é’Ÿä»¥å†…åˆ‡å§ï¼ˆ
4.28 é¢˜ç›®é“¾æ¥ æè¿° ç»™å®šä¸€ä¸ª$H$è¡Œå’Œ$W$åˆ—çš„ç½‘æ ¼ï¼Œæˆ‘ä»¬è®©$(i,j)$è¡¨ç¤ºä»åŒ—è¾¹ç¬¬iè¡Œå’Œä»è¥¿è¾¹ç¬¬jåˆ—çš„ç½‘æ ¼
åœ¨ä¸€ä¸ªç½‘æ ¼ä¸Šä¿®å»ºä¸€ä¸ªç«è½¦ç«™çš„ä»£ä»·æ˜¯$A_{i,j}$
åœ¨ä¸¤ä¸ªç½‘æ ¼é—´å»ºä¸€æ¡é“è½¨çš„ä»£ä»·æ˜¯è¿™ä¸¤ä¸ªç‚¹ä½ç½®çš„æ›¼å“ˆé¡¿è·ç¦»
æ±‚é€ ä¸€æ¡é“è·¯çš„æœ€å°èŠ±è´¹
"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://s1.ax1x.com/2022/04/27/Lqf2o8.png' />
    <link rel="shortcut icon" href="https://s1.ax1x.com/2022/04/27/Lb5QhD.jpg" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/8DA6E1AE84965801DC21BA4241186685_hua14f9623c7513cf592015cff443be951_606586_300x0_resize_q75_box.jpg" width="300"
                            height="308" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸŒ´</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Inari&#39;s Blog</a></h1>
            <h2 class="site-description">æˆ‘æ„¿æŠ•èº«å‰é€”æœªåœçš„ç¾¤æ˜Ÿ</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/InariInDream'
                        target="_blank"
                        title="GitHub"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com/InariInDream'
                        target="_blank"
                        title="Twitter"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://inariindream.fun/index.xml'
                        target="_blank"
                        title="zh-rss"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="5" cy="19" r="1" />
  <path d="M4 4a16 16 0 0 1 16 16" />
  <path d="M4 11a9 9 0 0 1 9 9" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>ä¸»é¡µ</span>
            </a>
        </li>
        
        

        <li >
            <a href='/page/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>å…³äº</span>
            </a>
        </li>
        
        

        <li >
            <a href='/page/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>å½’æ¡£</span>
            </a>
        </li>
        
        

        <li >
            <a href='/page/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>æœç´¢</span>
            </a>
        </li>
        
        

        <li >
            <a href='/page/friend/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>å‹äºº</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span> </span>
                </li>
            
        </div>
    </ol>
</aside>
<main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/blog/2022/04/23/namomocamp%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98div2/">
                
                    <img src="https://s1.ax1x.com/2022/04/27/Lqf2o8.png" loading="lazy" alt="Featured image of post NamomoCampæ¯æ—¥ä¸€é¢˜ï¼ˆdiv2ï¼‰" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E7%AE%97%E6%B3%95/" style="background-color: #2f2d8f; color: #fff;">
                ç®—æ³•
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/blog/2022/04/23/namomocamp%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98div2/">NamomoCampæ¯æ—¥ä¸€é¢˜ï¼ˆdiv2ï¼‰</a>
        </h2>
    
        
    </div>

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Apr 23, 2022</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    18 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>
</header>

    <section class="article-content">
    
    
    <h2 id="422">4.22</h2>
<h1 id="å¾…è¡¥">ï¼ˆå¾…è¡¥ï¼‰</h1>
<p><a class="link" href="http://oj.daimayuan.top/course/11/problem/814"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></p>
<p><a class="link" href="https://www.luogu.com.cn/problem/solution/P1966"  target="_blank" rel="noopener"
    >é¢˜è§£é“¾æ¥</a></p>
<h1 id="æè¿°">æè¿°</h1>
<p>ç»™å®šä¸¤ä¸ªé˜Ÿåˆ—$a$,$b$ï¼Œæ¯é˜Ÿ$n$äººï¼Œèº«é«˜åˆ†åˆ«ä¸º$a_i$, $b_i$</p>
<p>æ¯é˜Ÿçš„äººéƒ½å¯ä»¥ä¸å‰åç›¸é‚»è€…äº¤æ¢ä½ç½®ï¼Œæ¬¡æ•°ä¸é™ï¼Œä»…åœ¨åŒé˜Ÿæ¢ï¼Œé—®ä½¿$\sum (a_i - b_i)^2$æœ€å°çš„äº¤æ¢æ¬¡æ•°</p>
<h1 id="æ€è·¯">æ€è·¯</h1>
<p>ä¸¤é˜ŸåŒæ—¶æ¢å’Œåªæ¢ä¸€é˜Ÿæ•ˆæœç›¸åŒï¼Œå› æ­¤åªéœ€é€‰ä¸€é˜Ÿæ¥æ¢ã€‚</p>
<p>$\sum (a_i - b_i)^2 = \sum((a_i + b_i)^2 - 4 * a_i * b_i)$</p>
<p>å‰è€…æ˜¯å®šå€¼ï¼Œå› æ­¤åªéœ€æ‰¾åˆ°ä½¿åé¢é‚£é¡¹æœ€å¤§çš„æ–¹å¼å³å¯</p>
<p>å°±æ˜¯æ±‚ä¸€ä¸ªæ•°åˆ—ç›¸å¯¹äºå¦ä¸€ä¸ªçš„é€†åºå¯¹ï¼ˆå¥½åƒæŸæ¬¡abcåšè¿‡ï¼Œä½†åæ¥æ²¡è¡¥é¢˜&hellip;ï¼‰</p>
<h1 id="ä»£ç copyçš„">ä»£ç ï¼ˆcopyçš„ï¼‰</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> mod <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e8</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">7</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">long</span> <span style="color:#66d9ef">long</span> n, x[<span style="color:#ae81ff">10000005</span>], p[<span style="color:#ae81ff">1000005</span>], ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">fire</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> hi, bh;
</span></span><span style="display:flex;"><span>} l1[<span style="color:#ae81ff">1000005</span>], l2[<span style="color:#ae81ff">1000005</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">cmp1</span>(fire a, fire b) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a.hi <span style="color:#f92672">&lt;</span> b.hi;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">msort</span>(<span style="color:#66d9ef">int</span> s, <span style="color:#66d9ef">int</span> t)<span style="color:#f92672">//</span><span style="color:#960050;background-color:#1e0010">å½’å¹¶æ’åº</span>;
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (s <span style="color:#f92672">==</span> t)<span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> mid <span style="color:#f92672">=</span> (s <span style="color:#f92672">+</span> t) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    msort(s, mid);
</span></span><span style="display:flex;"><span>    msort(mid <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, t);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> s, k <span style="color:#f92672">=</span> s, j <span style="color:#f92672">=</span> mid <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (i <span style="color:#f92672">&lt;=</span> mid <span style="color:#f92672">&amp;&amp;</span> j <span style="color:#f92672">&lt;=</span> t) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (x[i] <span style="color:#f92672">&lt;=</span> x[j]) {
</span></span><span style="display:flex;"><span>            p[k] <span style="color:#f92672">=</span> x[i];
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">++</span>k;
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">++</span>i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            p[k] <span style="color:#f92672">=</span> x[j];
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">++</span>k;
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">++</span>j;
</span></span><span style="display:flex;"><span>            ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> mid <span style="color:#f92672">-</span> i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//æ­¤å¤„æ‰¾åˆ°é€†åºå¯¹ï¼Œmid-i~midä¸­æ•°å…¨éƒ½ä¸jæ„æˆé€†åºï¼Œè¿˜ä¼šå°‘ç®—ä¸€ä¸ªï¼Œ+1;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (i <span style="color:#f92672">&lt;=</span> mid) {
</span></span><span style="display:flex;"><span>        p[k] <span style="color:#f92672">=</span> x[i];
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">++</span>k;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">++</span>i;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (j <span style="color:#f92672">&lt;=</span> t) {
</span></span><span style="display:flex;"><span>        p[k] <span style="color:#f92672">=</span> x[j];
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">++</span>k;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">++</span>j;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> s; i <span style="color:#f92672">&lt;=</span> t; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        x[i] <span style="color:#f92672">=</span> p[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#e6db74">&#34;%lld&#34;</span>, <span style="color:#f92672">&amp;</span>n);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>l1[i].hi), l1[i].bh <span style="color:#f92672">=</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>l2[i].hi), l2[i].bh <span style="color:#f92672">=</span> i;
</span></span><span style="display:flex;"><span>    sort(l1 <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, l1 <span style="color:#f92672">+</span> n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, cmp1);
</span></span><span style="display:flex;"><span>    sort(l2 <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, l2 <span style="color:#f92672">+</span> n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, cmp1);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//æ’åº;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        x[l2[i].bh] <span style="color:#f92672">=</span> l1[i].bh;
</span></span><span style="display:flex;"><span>    msort(<span style="color:#ae81ff">1</span>, n);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//è°ƒç”¨å½’å¹¶;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    printf(<span style="color:#e6db74">&#34;%lld&#34;</span>, ans);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="423">4.23</h2>
<h1 id="bfsæ¿é¢˜">(BFSæ¿é¢˜)</h1>
<p><a class="link" href="http://oj.daimayuan.top/course/11/problem/810"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></p>
<h1 id="é¢˜ç›®æè¿°">é¢˜ç›®æè¿°</h1>
<p>ç»™å‡ºä¸€ä¸ª N ä¸ªé¡¶ç‚¹ M æ¡è¾¹çš„æ— å‘æ— æƒå›¾ã€‚</p>
<p>é—®ä»é¡¶ç‚¹ 1 å¼€å§‹ï¼Œåˆ°å…¶ä»–æ¯ä¸ªç‚¹çš„æœ€çŸ­è·¯æœ‰å‡ æ¡ã€‚</p>
<h1 id="æ€è·¯-1">æ€è·¯</h1>
<p>BFSæ¿é¢˜ï¼Œæ¯æ¬¡éå†çš„æ—¶å€™è®°å½•å±‚æ•°ï¼Œå¦‚æœå½“å‰éå†åˆ°çš„$x$èŠ‚ç‚¹æ˜¯$t$èŠ‚ç‚¹çš„ä¸‹ä¸€å±‚ï¼Œé‚£ä¹ˆ$x$çš„æœ€çŸ­è·¯æ•°é‡å°±æ˜¯å½“å‰$x$çš„æœ€çŸ­è·¯æ•°é‡åŠ ä¸Š$t$çš„æœ€çŸ­è·¯æ•°é‡</p>
<p>å› ä¸ºæ¯æ¬¡éå†åˆ°çš„æ—¶å€™éƒ½ä¼šåŠ ä¸€éï¼Œå°±ç›¸å½“äºä¹˜æ³•äº†</p>
<h1 id="ä»£ç ">ä»£ç </h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> N <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e6</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> mod <span style="color:#f92672">=</span> <span style="color:#ae81ff">100003</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>e[N];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> used[N];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> cnt[N];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> dep[N];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">bfs</span>(){
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>q;
</span></span><span style="display:flex;"><span>    dep[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    used[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    q.push(<span style="color:#ae81ff">1</span>), cnt[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#f92672">!</span>q.empty()){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> t <span style="color:#f92672">=</span> q.front();
</span></span><span style="display:flex;"><span>        q.pop();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">auto</span> x : e[t]) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>used[x]){
</span></span><span style="display:flex;"><span>                used[x] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;<span style="color:#75715e">//æ ‡è®°ä¸ºéå†è¿‡äº†
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                dep[x] <span style="color:#f92672">=</span> dep[t] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;<span style="color:#75715e">//å±‚æ•°++(å› ä¸ºæ˜¯bfsæ‰€ä»¥å±‚æ•°ä¸€å®šæ˜¯æœ€å°çš„)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                q.push(x);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (dep[x] <span style="color:#f92672">==</span> dep[t] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>){<span style="color:#75715e">//å¦‚æœå½“å‰xæ˜¯tçš„ä¸‹ä¸€å±‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                cnt[x] <span style="color:#f92672">=</span> (cnt[x] <span style="color:#f92672">+</span> cnt[t]) <span style="color:#f92672">%</span> mod;<span style="color:#75715e">//é‚£ä¹ˆxçš„æœ€çŸ­è·¯æ•°é‡å†åŠ ä¸Štçš„æœ€çŸ­è·¯æ•°é‡(æ¯ä¸ªxéƒ½åŠ ç›¸å½“äºä¹˜)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n, m;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n <span style="color:#f92672">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> m; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> x , y;
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> x <span style="color:#f92672">&gt;&gt;</span> y;
</span></span><span style="display:flex;"><span>        e[x].push_back(y);
</span></span><span style="display:flex;"><span>        e[y].push_back(x);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    bfs();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> cnt[i] <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){
</span></span><span style="display:flex;"><span>    ios<span style="color:#f92672">::</span>sync_with_stdio(false);
</span></span><span style="display:flex;"><span>    cin.tie(<span style="color:#66d9ef">nullptr</span>);
</span></span><span style="display:flex;"><span>    solve();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="426">4.26</h2>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopcourse11problem842"><a class="link" href="http://oj.daimayuan.top/course/11/problem/842"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-1">æè¿°</h1>
<p>åˆ¤æ–­æœ‰æ²¡æœ‰ä¸€ç§åŠæ³•å¯ä»¥å°†ä»$1$ åˆ° $N$ çš„ $N$ä¸ªäººæ’æˆä¸€æ’ï¼Œå¹¶æ»¡è¶³ç»™å®šçš„$M$ä¸ªè¦æ±‚ã€‚</p>
<p>å¯¹äºæ¯ä¸ªè¦æ±‚ç»™å‡ºä¸¤ä¸ªæ•´æ•° $A_i$å’Œ$B_i$ï¼Œè¡¨ç¤ºç¼–å·$A_i$å’Œ$B_i$çš„äººæ˜¯ç›¸é‚»çš„</p>
<p>ä¿è¯æ¯ä¸ªè¦æ±‚éƒ½ä¸åŒï¼Œå³ç»™å‡º$1$ï¼Œ$5$å°±ä¸ä¼šå†ç»™å‡º$5$ï¼Œ$1$æˆ–é‡å¤çš„</p>
<h1 id="åˆ†æ">åˆ†æ</h1>
<p>æ»¡è¶³é¢˜ç›®è¦æ±‚çš„åªæœ‰æ— ç¯çš„é“¾</p>
<p>å³åˆ¤æ–­ä¸¤ä»¶äº‹ï¼š</p>
<p>1.åº¦æ•°æ˜¯å¦å¤§äºç­‰äº$2$</p>
<p>2.æ˜¯å¦æœ‰ç¯</p>
<h1 id="ä»£ç -1">ä»£ç </h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> N <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e5</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> father[N];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">ufind</span>(<span style="color:#66d9ef">int</span> x) {<span style="color:#75715e">//å¯»æ‰¾æ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (x <span style="color:#f92672">==</span> father[x])
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> x;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> fx <span style="color:#f92672">=</span> ufind(father[x]);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> father[x] <span style="color:#f92672">=</span> fx;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n, m;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n <span style="color:#f92672">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        father[i] <span style="color:#f92672">=</span> i;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    map<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> mp;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> ok <span style="color:#f92672">=</span> (n <span style="color:#f92672">&gt;</span> m); <span style="color:#75715e">// è¿™ä¸€ç‚¹æœ€å¼€å§‹æ²¡æƒ³åˆ°ï¼Œå¦‚æœè¦æ±‚å¤§äºn - 1æ¡å¯ä»¥ç›´æ¥è¿”å›
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>ok) {
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;No&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> x, y;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; ok <span style="color:#f92672">&amp;&amp;</span> i <span style="color:#f92672">&lt;</span> m; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> x <span style="color:#f92672">&gt;&gt;</span> y;
</span></span><span style="display:flex;"><span>        mp[x]<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        mp[y]<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> fx <span style="color:#f92672">=</span> ufind(x);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> fy <span style="color:#f92672">=</span> ufind(y);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (fx <span style="color:#f92672">!=</span> fy) {
</span></span><span style="display:flex;"><span>            father[fx] <span style="color:#f92672">=</span> y;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        ok <span style="color:#f92672">=</span> (fx <span style="color:#f92672">!=</span> fy); <span style="color:#75715e">// åˆ¤æ–­æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªï¼ˆä¹ŸåŒ…æ‹¬åˆ¤æ–­ç¯ï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (mp[x] <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">||</span> mp[y] <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2</span>) <span style="color:#75715e">// åˆ¤æ–­åº¦æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            ok <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> (ok <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;Yes&#34;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;No&#34;</span>) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    ios<span style="color:#f92672">::</span>sync_with_stdio(false);
</span></span><span style="display:flex;"><span>    cin.tie(<span style="color:#66d9ef">nullptr</span>);
</span></span><span style="display:flex;"><span>    solve();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å¥½åƒèƒ½é»˜å†™å¹¶æŸ¥é›†ä¸­â€œå¹¶â€çš„éƒ¨åˆ†äº†= =</p>
<p>æŸ¥çš„éƒ¨åˆ†å¥½åƒè¿˜æ˜¯åªèƒ½æŠ„æ¿å­ èœèœQWQ</p>
<p>ï¼ˆçªç„¶å‘ç°å›¾è®ºçš„éƒ¨åˆ†æ¶‰åŠçš„ä¸å¤š</p>
<h2 id="427">4.27</h2>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopcourse11problem847"><a class="link" href="http://oj.daimayuan.top/course/11/problem/847"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-2">æè¿°</h1>
<p>ç°ç»™å®šä¸¤ä¸ª å››ä½ç´ æ•° a,bã€‚ ä½ å¯ä»¥æ‰§è¡Œå¤šæ¬¡ä¸‹é¢çš„æ“ä½œï¼š</p>
<p>ä¿®æ”¹æ•°å­— a çš„æŸä¸€ä½, ä½¿å…¶æˆä¸ºå¦ä¸€ä¸ª å››ä½ç´ æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ1033â†’1733ï¼Œå…¶ä¸­ 1033 ä¸ 1733 å‡ä¸ºç´ æ•°ã€‚</p>
<p>é—®è‡³å°‘å¤šå°‘æ¬¡å˜æ¢åèƒ½ä» a å¾—åˆ° b ? æˆ–å›ç­”ä¸å¯èƒ½</p>
<h1 id="æ€è·¯-2">æ€è·¯</h1>
<p>æƒ³åˆ°äº†å’ŒcfæŸåœºçš„2Bå¾ˆåƒï¼Œåªä¸è¿‡é‚£åœºä¸éœ€è¦æŒ‰ä½å¤„ç†ï¼Œè€Œæ˜¯åŠ 1æˆ–åŠ 2åå–ä½™ï¼Œåšæ³•æ˜¯BFSã€‚é‚£è¿™é¢˜ä¹Ÿä¸€æ ·ï¼Œä½†å¼€å§‹æ²¡æƒ³åˆ°æ€ä¹ˆå»æšä¸¾æ¯ä¸€ä½çš„æ•°å­—çš„å˜åŒ–ï¼Œç”šè‡³æƒ³ç”¨<code>to_string()</code>æ¥åšï¼Œåæ¥å‘ç°å–æ¯ä¸€ä½å–æ¨¡åé™¤å°±è¡Œäº†&hellip;æ˜¯Cè¯­è¨€æœŸæœ«è€ƒè¯•éš¾åº¦çš„é¢˜&hellip;</p>
<p>æé†’è‡ªå·±å¤šæ³¨æ„ç»†èŠ‚é—®é¢˜ï¼Œå¤šä¸ª$testcase$çš„æ—¶å€™ä¸€å®šè¦å°†<code>å…¨å±€å˜é‡</code>æ¸…ç©ºï¼ï¼ï¼</p>
<p>æ›´å¤šç»†èŠ‚è§ä»£ç </p>
<h1 id="ä»£ç -2">ä»£ç </h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> prime[<span style="color:#ae81ff">10000</span>], used[<span style="color:#ae81ff">10000</span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> cnt[<span style="color:#ae81ff">10000</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">init</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> j;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>; i <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">10000</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (j <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>; j <span style="color:#f92672">&lt;</span> i; j<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (i <span style="color:#f92672">%</span> j <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>){
</span></span><span style="display:flex;"><span>                prime[i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (j <span style="color:#f92672">==</span> i){
</span></span><span style="display:flex;"><span>            prime[i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">bfs</span>(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10000</span>; i<span style="color:#f92672">++</span>) { <span style="color:#75715e">// å› ä¸ºå¿˜æ¸…ç©ºWAäº†ä¸€æ¬¡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        cnt[i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        used[i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>q;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> temp <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, v[<span style="color:#ae81ff">4</span>];
</span></span><span style="display:flex;"><span>    q.push(x);
</span></span><span style="display:flex;"><span>    used[x] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    cnt[x] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#f92672">!</span>q.empty()){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> t <span style="color:#f92672">=</span> q.front();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (t <span style="color:#f92672">==</span> y)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> cnt[t];
</span></span><span style="display:flex;"><span>        q.pop();
</span></span><span style="display:flex;"><span>        v[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> t <span style="color:#f92672">/</span> <span style="color:#ae81ff">1000</span>;
</span></span><span style="display:flex;"><span>        v[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> t <span style="color:#f92672">%</span> <span style="color:#ae81ff">1000</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">100</span>;
</span></span><span style="display:flex;"><span>        v[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> t <span style="color:#f92672">%</span> <span style="color:#ae81ff">100</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>        v[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span> t <span style="color:#f92672">%</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> vtemp <span style="color:#f92672">=</span> v[i];
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; j<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (j <span style="color:#f92672">!=</span> vtemp){
</span></span><span style="display:flex;"><span>                    v[i] <span style="color:#f92672">=</span> j;
</span></span><span style="display:flex;"><span>                    temp <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span> <span style="color:#f92672">*</span> v[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span> <span style="color:#ae81ff">100</span> <span style="color:#f92672">*</span> v[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">*</span> v[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">+</span> v[<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (prime[temp] <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>used[temp]){
</span></span><span style="display:flex;"><span>                        q.push(temp);
</span></span><span style="display:flex;"><span>                        used[temp] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>                        cnt[temp] <span style="color:#f92672">=</span> cnt[t] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span><span style="color:#75715e">//                    if (temp == y)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//                        return cnt[temp];åæ¥å‘ç°è¿™æ­¥å®Œå…¨æ˜¯å¤šä½™çš„ï¼Œå› ä¸ºå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡åˆ°çš„è¯cntåº”è¯¥æ˜¯æ²¡å€¼çš„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>                v[i] <span style="color:#f92672">=</span> vtemp; <span style="color:#75715e">// å†™çš„æ—¶å€™é—æ¼äº†è¿™ä¸€æ­¥ï¼Œåœ¨è¿›å…¥ä¸‹ä¸€ä¸ªiçš„å¾ªç¯ä¹‹å‰è¦å°†ä¸Šä¸€æ¬¡çš„v[i]å¤åŸ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>; <span style="color:#75715e">// å‰é¢éƒ½æ²¡returnè¿™é‡Œåªèƒ½return -1äº†
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    init();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a, b;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (n<span style="color:#f92672">--</span>){
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> a <span style="color:#f92672">&gt;&gt;</span> b;
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> bfs(a, b) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>è¿™ç§ç®€å•é¢˜ä»¥åäº‰å–ååˆ†é’Ÿä»¥å†…åˆ‡å§ï¼ˆ</p>
<h2 id="428">4.28</h2>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopcourse11problem849"><a class="link" href="http://oj.daimayuan.top/course/11/problem/849"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-3">æè¿°</h1>
<p>ç»™å®šä¸€ä¸ª$H$è¡Œå’Œ$W$åˆ—çš„ç½‘æ ¼ï¼Œæˆ‘ä»¬è®©$(i,j)$è¡¨ç¤ºä»åŒ—è¾¹ç¬¬iè¡Œå’Œä»è¥¿è¾¹ç¬¬jåˆ—çš„ç½‘æ ¼</p>
<ol>
<li>
<p>åœ¨ä¸€ä¸ªç½‘æ ¼ä¸Šä¿®å»ºä¸€ä¸ªç«è½¦ç«™çš„ä»£ä»·æ˜¯$A_{i,j}$</p>
</li>
<li>
<p>åœ¨ä¸¤ä¸ªç½‘æ ¼é—´å»ºä¸€æ¡é“è½¨çš„ä»£ä»·æ˜¯è¿™ä¸¤ä¸ªç‚¹ä½ç½®çš„æ›¼å“ˆé¡¿è·ç¦»</p>
</li>
</ol>
<p>æ±‚é€ ä¸€æ¡é“è·¯çš„æœ€å°èŠ±è´¹</p>
<h1 id="æ€è·¯-3">æ€è·¯</h1>
<p>åŸºæœ¬æ‹¿åˆ°æ‰‹å°±æ˜¯æ‡µçš„ï¼ŒçŸ¥é“è¦ç”¨dpå»åšï¼Œä½†æ˜¯å®Œå…¨æ²¡æ€è·¯ï¼Œçœ‹äº†é¢˜è§£è§†é¢‘å¥½åƒæ˜¯dp + äºŒç»´å‰ç¼€å’Œçš„æ€æƒ³å»åšã€‚æŠ„äº†ä»½ä»£ç è¿‡äº†ä¹‹åçœ‹äº†è´´ä¸¤ä»½ä»£ç å§ï¼Œä¹‹åå†è¡¥ï¼ˆ</p>
<h2 id="429è¡¥">ï¼ˆ4.29è¡¥ï¼‰ï¼š</h2>
<p>çœ‹æ‡‚æ€è·¯äº†ï¼Œåˆ†ä¸ºä¸¤ç§æƒ…å†µè€ƒè™‘ï¼š</p>
<ol>
<li>ç¬¬äºŒä¸ªç‚¹çš„$x$å’Œ$y$å‡å¤§äºç¬¬ä¸€ä¸ªç‚¹ï¼Œæ­¤æ—¶å‘ç¬¬äºŒä¸ªç‚¹çš„å·¦ä¸Šæ–¹æ‰«</li>
<li>ç¬¬ä¸€ä¸ªç‚¹åªæœ‰$x$å¤§äºç¬¬äºŒä¸ªç‚¹ï¼Œæ­¤æ—¶å‘ç¬¬äºŒä¸ªç‚¹çš„å³ä¸Šæ–¹æ‰«</li>
</ol>
<p>å½“ç„¶ï¼Œåœ¨äºŒç»´æ•°ç»„é‡Œé¢å¾€æ–œä¸Šæ–¹ç¡¬æ‰«åº”è¯¥æ˜¯ä¼šè¶…æ—¶çš„ï¼Œå¤æ‚åº¦åº”è¯¥æ˜¯$O(n^2m^2)$</p>
<p>æ‰€ä»¥åœ¨ç¬¬ä¸€æ¬¡æ‰«çš„æ—¶å€™è¦åˆ©ç”¨ç±»ä¼¼äºŒç»´å‰ç¼€å’Œçš„æ€æƒ³å»å¤„ç†ï¼ˆå…¶å®æ„Ÿè§‰dpæ€æƒ³å¤šä¸€ç‚¹ï¼Œä½†æ˜¯dlsé¢˜è§£è¯´æ˜¯å‰ç¼€å’Œï¼‰</p>
<p>å¯¹äºç¬¬ä¸€ç§æƒ…å†µï¼Œ$ans$æ‹†å¼€æ¥çš„ç»“æœæ˜¯</p>
<p>$$A_{x2y2} + C \times (x_2 + y_2) + A_{x1y1} - C \times (x_1 + y_1)$$</p>
<p>å½“ç¬¬äºŒä¸ªç‚¹ç¡®å®šä»¥åï¼Œé—®é¢˜å°±è½¬åŒ–æˆæ±‚$A_{x1y1} - C \times (x_1 + y_1)$çš„æœ€å°å€¼äº†ï¼Œç”¨$f[i][j]$å»è®°å½•å·¦ä¸Šæ–¹çš„è¿™ä¸ªå¼å­çš„æœ€å°å€¼</p>
<p>å¯å¾—è½¬ç§»æ–¹ç¨‹ä¸º<code>f[i][j] = min(f[i-1][j],f[i][j-1])</code></p>
<p>ç„¶åè¿›è¡Œç­”æ¡ˆçš„æ›´æ–°<code>ans = min(ans,f[i][j] + a[i][j] + c * (i + j))</code>ï¼ˆæ³¨ï¼š$f[i][j]$æ˜¯ä¸åŒ…å«$a[i][j]$çš„ï¼‰</p>
<p>æœ€åï¼Œå·²ç»åœ¨$a[i][j]$æ›´æ–°è¿‡$ans$äº†ï¼Œé‚£å°±å¯ä»¥æŠŠ$a[i][j]$ç®—è¿›å»äº†<code>f[i][j] = min(a[i][j] - c * (i + j),f[i][j])</code></p>
<p>ç¬¬äºŒç§æƒ…å†µå¾€å³ä¸Šæ‰«æ€è·¯ç›¸åŒï¼Œç•¥ã€‚</p>
<h1 id="ä»£ç copy">ä»£ç ï¼ˆcopyï¼‰</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">/***
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">            ç¬¬ä¸€ä»½
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">                            ***/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> N <span style="color:#f92672">=</span> <span style="color:#ae81ff">1005</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ll a[N][N],b[N],d[N];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (ll i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> N; i<span style="color:#f92672">++</span>) b[i] <span style="color:#f92672">=</span> d[i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e18</span>;
</span></span><span style="display:flex;"><span>    ll n, m, c;
</span></span><span style="display:flex;"><span>    ll ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e18</span>;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n <span style="color:#f92672">&gt;&gt;</span> m <span style="color:#f92672">&gt;&gt;</span> c;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (ll i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (ll j <span style="color:#f92672">=</span> m; j <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; j<span style="color:#f92672">--</span>)
</span></span><span style="display:flex;"><span>            d[j] <span style="color:#f92672">=</span> min(d[j], d[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (ll j <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; j <span style="color:#f92672">&lt;=</span> m; j<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            cin <span style="color:#f92672">&gt;&gt;</span> a[i][j];
</span></span><span style="display:flex;"><span>            b[j] <span style="color:#f92672">=</span> min(b[j], b[j <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>            d[j] <span style="color:#f92672">=</span> min(d[j], d[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>            ans <span style="color:#f92672">=</span> min(ans, b[j] <span style="color:#f92672">+</span> a[i][j] <span style="color:#f92672">+</span> c <span style="color:#f92672">*</span> i <span style="color:#f92672">+</span> c <span style="color:#f92672">*</span> j);
</span></span><span style="display:flex;"><span>            ans <span style="color:#f92672">=</span> min(ans, d[j] <span style="color:#f92672">+</span> a[i][j] <span style="color:#f92672">+</span> c <span style="color:#f92672">*</span> i <span style="color:#f92672">-</span> c <span style="color:#f92672">*</span> j);
</span></span><span style="display:flex;"><span>            b[j] <span style="color:#f92672">=</span> min(b[j], a[i][j] <span style="color:#f92672">-</span> c <span style="color:#f92672">*</span> i <span style="color:#f92672">-</span> c <span style="color:#f92672">*</span> j);
</span></span><span style="display:flex;"><span>            d[j] <span style="color:#f92672">=</span> min(d[j], a[i][j] <span style="color:#f92672">-</span> c <span style="color:#f92672">*</span> i <span style="color:#f92672">+</span> c <span style="color:#f92672">*</span> j);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/***
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    ç¬¬äºŒä»½ï¼ˆå¥½åƒè¿˜æœ‰æ³¨é‡Š å¤ªè‰¯å¿ƒäº†ï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">                                ***/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> N <span style="color:#f92672">=</span> <span style="color:#ae81ff">1100</span> ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> n,m ;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[N][N] ;
</span></span><span style="display:flex;"><span>ll f[N][N],c ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å…¶å®å°±æ˜¯æ‰¾åˆ°ä¸¤ä¸ªç‚¹ï¼Œè¿™ä¸¤ä¸ªç‚¹çš„ C * (| x1 - x2 | + | y1 - y2 |) + a_x1_y1 + a_x2_y2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// ä¸ºäº†è®©è¿™ä¸ªå€¼æ›´å°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¸¸ç”¨çš„æŠ€å·§å°†è¿™ä¸ªå¼å­æ‹†å¼€
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// æ‹†å¼€ä¹‹åçœ‹çœ‹ å€¼æœ‰æ²¡æœ‰æ”¹å˜
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// å‘ç°ä¸¤ä¸ªç‚¹çš„ä½ç½®ä¼šæœ‰å››ç§å…³ç³»ï¼Œï¼Œå¦‚æœå®šä¹‰ä¸€ç§ååºå…³ç³»ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è®¾å®šä¸º2ç§å…³ç³»
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// 1. ç¬¬ä¸€ä¸ªç‚¹å®Œå…¨åœ¨ç¬¬äºŒä¸ªç‚¹çš„ä¸‹é¢ï¼Œå°±æ˜¯è¯´ï¼Œç¬¬ä¸€ä¸ªç‚¹çš„ x1 å’Œ y1 åˆ†åˆ«å°äº x2ï¼Œy2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// é‚£ä¹ˆæ‹†å¼€å¼å­ä¹‹åå°±æ˜¯ a_x1_y1 + C * (x2 - x1 + y2 - y1) + a_x2_y2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// a_x2_y2 + C * (x2 + y2) + a_x1_y_1 - C * (x1 + y1) ;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// ä¸ºäº†è®©è¿™ä¸ªå¼å­æœ€å°å€¼ï¼Œé‚£ä¹ˆå½“å›ºå®šäº†x2ï¼Œé‚£ä¹ˆå°±éœ€è¦æ±‚å‡º1è¿™ä¸ªç‚¹çš„ a_x1_y_1 - C * (x1 + y1) æœ€å°å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// å¦‚æœè®©ç¬¬ä¸€ä¸ªç‚¹çš„ x æ°¸è¿œå¤§äºç¬¬äºŒä¸ªç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// a_x1_y1 + a_x2_y2 + C * ( x1 - x2 + y2 - y1) ;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// a_x2_y2 + C * (-x2 + y2) + a_x1_y1 + c * (x1 - y1) ;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){
</span></span><span style="display:flex;"><span>	scanf(<span style="color:#e6db74">&#34;%d%d%lld&#34;</span>,<span style="color:#f92672">&amp;</span>n,<span style="color:#f92672">&amp;</span>m,<span style="color:#f92672">&amp;</span>c) ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> ;i <span style="color:#f92672">&lt;=</span> n ; i <span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;  j <span style="color:#f92672">&lt;=</span> m ; j <span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>			scanf(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>a[i][j]) ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	ll ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e18</span> ;
</span></span><span style="display:flex;"><span>	memset(f,<span style="color:#ae81ff">0x3f</span>,<span style="color:#66d9ef">sizeof</span> f) ;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;  i <span style="color:#f92672">&lt;=</span> n ; i <span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;  j <span style="color:#f92672">&lt;=</span> m ; j <span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>			f[i][j] <span style="color:#f92672">=</span> min(f[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][j],f[i][j<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]) ;
</span></span><span style="display:flex;"><span>			
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">//cout &lt;&lt; i &lt;&lt; &#34; &#34; &lt;&lt; j &lt;&lt; &#34; &#34; &lt;&lt; f[i][j] + a[i][j] + c * (i + j) &lt;&lt; &#34;\n&#34; ;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>			ans <span style="color:#f92672">=</span> min(ans,f[i][j] <span style="color:#f92672">+</span> a[i][j] <span style="color:#f92672">+</span> c <span style="color:#f92672">*</span> (i <span style="color:#f92672">+</span> j)) ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			f[i][j] <span style="color:#f92672">=</span> min(a[i][j] <span style="color:#f92672">-</span> c <span style="color:#f92672">*</span> (i <span style="color:#f92672">+</span> j),f[i][j]) ;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	memset(f,<span style="color:#ae81ff">0x3f</span>,<span style="color:#66d9ef">sizeof</span> f) ;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> ; i <span style="color:#f92672">&lt;=</span> n ; i<span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> m ; j <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">1</span> ;j  <span style="color:#f92672">--</span>){
</span></span><span style="display:flex;"><span>			f[i][j] <span style="color:#f92672">=</span> min(f[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][j],f[i][j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]) ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">//cout &lt;&lt; i &lt;&lt; &#34; &#34; &lt;&lt; j &lt;&lt; &#34; &#34; &lt;&lt; f[i][j] &lt;&lt; &#34; &#34; &lt;&lt;  a[i][j] + c * (j - i) &lt;&lt; &#34;\n&#34; ;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>			ans <span style="color:#f92672">=</span> min(ans,f[i][j] <span style="color:#f92672">+</span> a[i][j] <span style="color:#f92672">+</span> c <span style="color:#f92672">*</span> (i <span style="color:#f92672">-</span> j)) ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			f[i][j] <span style="color:#f92672">=</span> min(a[i][j] <span style="color:#f92672">+</span> c <span style="color:#f92672">*</span> (j <span style="color:#f92672">-</span> i),f[i][j]) ;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	printf(<span style="color:#e6db74">&#34;%lld</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ans);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> ;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="429">4.29</h2>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopcourse11problem863"><a class="link" href="http://oj.daimayuan.top/course/11/problem/863"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-4">æè¿°</h1>
<p>æ¡Œå­ä¸Šä»å·¦åˆ°å³æ”¾ç€ $n$ ä¸ªç³–æœã€‚ç³–æœä»å·¦åˆ°å³ç¼–å·ï¼Œç¬¬ $i$ å—ç³–æœçš„é‡é‡ä¸º $w_i$ã€‚å°æ˜å’Œå°çº¢è¦åƒç³–æœã€‚</p>
<p>å°æ˜ä»å·¦è¾¹å¼€å§‹åƒä»»æ„æ•°é‡çš„ç³–æœã€‚ï¼ˆè¿ç»­åƒï¼Œä¸èƒ½è·³è¿‡ç³–æœï¼‰</p>
<p>å°çº¢ä»å³è¾¹å¼€å§‹åƒä»»æ„æ•°é‡çš„ç³–æœã€‚ï¼ˆè¿ç»­åƒï¼Œä¸èƒ½è·³è¿‡ç³–æœï¼‰</p>
<p>å½“ç„¶ï¼Œå¦‚æœå°æ˜åƒäº†æŸä¸ªç³–æœï¼Œå°çº¢å°±ä¸èƒ½åƒå®ƒï¼ˆåä¹‹äº¦ç„¶ï¼‰ã€‚</p>
<p>ä»–ä»¬çš„ç›®æ ‡æ˜¯åƒåŒæ ·é‡é‡çš„ç³–æœï¼Œè¯·é—®æ­¤æ—¶ä»–ä»¬æ€»å…±æœ€å¤šèƒ½åƒå¤šå°‘ä¸ªç³–æœï¼Ÿ</p>
<h1 id="æ€è·¯-4">æ€è·¯</h1>
<p>div4çš„Fé¢˜åŸé¢˜ï¼Œæ–¹æ³•æ˜¯åŒæŒ‡é’ˆï¼Œå½“ä¸¤ä¸ªæŒ‡é’ˆæ²¡åˆåˆ°ä¸€èµ·æ—¶åˆ†ä¸‰ç§æƒ…å†µè®¨è®ºï¼š</p>
<ol>
<li>
<p>å½“å°æ˜å½“å‰åƒçš„é‡é‡å°äºå°çº¢ï¼Œé‚£ä¹ˆå°æ˜åƒä¸€é¢—ï¼Œä¸”æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€ä½</p>
</li>
<li>
<p>å°çº¢å°äºå°æ˜ï¼Œå°çº¢åƒä¸€é¢—ï¼ŒæŒ‡é’ˆå·¦ç§»ä¸€ä½</p>
</li>
<li>
<p>äºŒäººç›¸ç­‰ï¼Œåˆ™æ­¤æ—¶æ›´æ–°$ans$ï¼Œ$ans = max(ans, l + 1 + n - r)$</p>
</li>
</ol>
<h1 id="ä»£ç -3">ä»£ç </h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>a(n);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> a[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> l <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, r <span style="color:#f92672">=</span> n;
</span></span><span style="display:flex;"><span>    ll al <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, bo <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (l <span style="color:#f92672">&lt;</span> r){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (al <span style="color:#f92672">&lt;</span> bo){
</span></span><span style="display:flex;"><span>            l<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>            al <span style="color:#f92672">+=</span> a[l];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (al <span style="color:#f92672">&gt;</span> bo){
</span></span><span style="display:flex;"><span>            r<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>            bo <span style="color:#f92672">+=</span> a[r];
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>            ans <span style="color:#f92672">=</span> max(ans, l <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> n <span style="color:#f92672">-</span> r);
</span></span><span style="display:flex;"><span>            l<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>            al <span style="color:#f92672">+=</span>a[l];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> ans <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å…‰é€Ÿä¸‹ç­</p>
<h2 id="430">4.30</h2>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopcourse11problem844"><a class="link" href="http://oj.daimayuan.top/course/11/problem/844"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-5">æè¿°</h1>
<p>æœ‰ä¸€ä¸ªé•¿åº¦ä¸º $âˆ‘a_i$ çš„æœ¨æ¿ï¼Œéœ€è¦åˆ‡å‰²æˆ $n$ æ®µï¼Œæ¯æ®µæœ¨æ¿çš„é•¿åº¦åˆ†åˆ«ä¸º $a_1,a_2,â€¦,a_n$ã€‚</p>
<p>æ¯æ¬¡åˆ‡å‰²ï¼Œä¼šäº§ç”Ÿå¤§å°ä¸ºè¢«åˆ‡å‰²æœ¨æ¿é•¿åº¦çš„å¼€é”€ã€‚</p>
<p>è¯·ä½ æ±‚å‡ºå°†æ­¤æœ¨æ¿åˆ‡å‰²æˆå¦‚ä¸Š $n$ æ®µçš„æœ€å°å¼€é”€ã€‚</p>
<h1 id="æ€è·¯-5">æ€è·¯</h1>
<p>å€’ç€è€ƒè™‘ï¼Œæ¯æ¬¡åˆ‡å‰²ä¼šäº§ç”Ÿå¤§å°ä¸ºè¢«åˆ‡å‰²æœ¨æ¿é•¿åº¦çš„å¼€é”€ $==$ æ¯æ¬¡åˆå¹¶äº§ç”Ÿåˆå¹¶åé•¿åº¦çš„å¼€é”€</p>
<p>é‚£ä¹ˆæ­¤æ—¶è¿™ä¸ªé¢˜å°±å˜æˆäº†éå¸¸ç»å…¸çš„äºŒå‰å †çš„é¢˜ç›®äº† ä¸”ä¸€æœˆä»½åšè¿‡<a class="link" href="https://www.luogu.com.cn/problem/P1090"  target="_blank" rel="noopener"
    >åŸ</a></p>
<p>ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå¤æ‚åº¦æ˜¯$O(nlogn)$</p>
<blockquote>
<p>ä¼˜å…ˆé˜Ÿåˆ—è¿˜æ˜¯æ²¡æ€ä¹ˆç”¨è¿‡ï¼Œå¤šç»ƒç»ƒå§</p>
</blockquote>
<h1 id="ä»£ç -4">ä»£ç </h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    priority_queue<span style="color:#f92672">&lt;</span>ll,vector<span style="color:#f92672">&lt;</span>ll<span style="color:#f92672">&gt;</span>,greater<span style="color:#f92672">&lt;</span>ll<span style="color:#f92672">&gt;&gt;</span>q;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> x;
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>        q.push(x);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ll ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (q.size() <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>){
</span></span><span style="display:flex;"><span>        ll t1 <span style="color:#f92672">=</span> q.top();
</span></span><span style="display:flex;"><span>        q.pop();
</span></span><span style="display:flex;"><span>        ll t2 <span style="color:#f92672">=</span> q.top();
</span></span><span style="display:flex;"><span>        q.pop();
</span></span><span style="display:flex;"><span>        q.push(t1 <span style="color:#f92672">+</span> t2);
</span></span><span style="display:flex;"><span>        ans <span style="color:#f92672">+=</span> t1 <span style="color:#f92672">+</span> t2;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> ans <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å…‰é€Ÿä¸‹ç­</p>
<h1 id="æ‹“å±•httpswwwluogucomcnproblemp6033"><a class="link" href="https://www.luogu.com.cn/problem/P6033"  target="_blank" rel="noopener"
    >æ‹“å±•</a></h1>
<p>é¢˜æ„å®Œå…¨ä¸€æ ·ï¼Œåªæ˜¯$n$çš„èŒƒå›´ç”±$10^5$å¢åŠ è‡³$10^7$ï¼Œ$a_i$ä»ä¸º$10^5$</p>
<h1 id="æ€è·¯-6">æ€è·¯</h1>
<p>å›åˆ°é—®é¢˜çš„æœ¬è´¨ï¼Œå¾ˆå®¹æ˜“æƒ³åˆ°å°±æ˜¯æ’åºç„¶åé€‰æœ€å°ä¸¤å †ï¼Œå†æŠŠæœ€å°çš„é‚£ä¸€å †æ’å…¥ã€‚</p>
<p>ä½†æ˜¯å¯¹äº$10^7$çš„æ•°æ®ï¼Œ$O(nlogn)$çš„æ’å…¥å¤æ‚åº¦æ˜¾ç„¶æ˜¯ä¸å¯æ¥å—çš„</p>
<p>é‚£å°±éœ€è¦ä¼˜åŒ–æ’å…¥æ“ä½œçš„å¤æ‚åº¦äº†ï¼Œä¸”å°†åˆå§‹åŒ–çš„æ’åºä¼˜åŒ–ä¸º<a class="link" href="https://oi-wiki.org/basic/bucket-sort/"  target="_blank" rel="noopener"
    >æ¡¶æ’åº</a>ï¼ˆå› ä¸º$a_i$åªæœ‰$10^5$ï¼‰</p>
<p>åšæ³•æ˜¯å»ºç«‹ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œå°†æ¡¶æ’çš„ç»“æœæ”¾è¿›ç¬¬ä¸€ä¸ªé˜Ÿåˆ—$Q_1$ï¼Œå°†åˆå¹¶çš„ç»“æœæ”¾è¿›ç¬¬äºŒä¸ªé˜Ÿåˆ—$Q_2$ï¼Œæ¯æ¬¡å–ä¸¤ä¸ªé˜Ÿåˆ—çš„æœ€å°å€¼åˆå¹¶</p>
<p>(å…¶å®å°±æ˜¯æŠŠåˆå¹¶çš„ç»“æœå•ç‹¬æ”¾åœ¨ä¸€ä¸ªé˜Ÿåˆ—é‡Œé¢ï¼Œè¿™æ ·å°±ä¸ç”¨æ’å…¥äº†)</p>
<p>å¤æ‚åº¦ä¸º$O(n)$</p>
<h1 id="ä»£ç -5">ä»£ç </h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> cnt[<span style="color:#ae81ff">100005</span>];
</span></span><span style="display:flex;"><span>queue<span style="color:#f92672">&lt;</span>ll<span style="color:#f92672">&gt;</span>q1;
</span></span><span style="display:flex;"><span>queue<span style="color:#f92672">&lt;</span>ll<span style="color:#f92672">&gt;</span>q2;
</span></span><span style="display:flex;"><span>ll temp;
</span></span><span style="display:flex;"><span>ll <span style="color:#a6e22e">get_first</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (q2.empty() <span style="color:#f92672">||</span> (<span style="color:#f92672">!</span>q1.empty() <span style="color:#f92672">&amp;&amp;</span> q1.front() <span style="color:#f92672">&lt;</span> q2.front())){
</span></span><span style="display:flex;"><span>        temp <span style="color:#f92672">=</span> q1.front();
</span></span><span style="display:flex;"><span>        q1.pop();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> temp;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>        temp <span style="color:#f92672">=</span> q2.front();
</span></span><span style="display:flex;"><span>        q2.pop();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> temp;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n, x;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>        cnt[x]<span style="color:#f92672">++</span>;<span style="color:#75715e">//å‡†å¤‡æ¡¶æ’
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">100000</span>; i<span style="color:#f92672">++</span>) {<span style="color:#75715e">//WAäº†ä¸€å‘æ‰å‘ç°æœ€å¼€å§‹æ²¡æŒ‚ç­‰å·...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">while</span> (cnt[i]<span style="color:#f92672">--</span>)
</span></span><span style="display:flex;"><span>            q1.push(i); <span style="color:#75715e">//è¿˜æ˜¯å¾—å¤šæ³¨æ„ç»†å¿ƒï¼Œç¬¬ä¸€æ¬¡è¿™ä¸ªåœ°æ–¹å†™æˆpush(x)æ‰¾äº†åŠå¤©æ²¡å‘ç°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    ll ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    ll a, b;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (q1.size() <span style="color:#f92672">+</span> q2.size() <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>){
</span></span><span style="display:flex;"><span>        a <span style="color:#f92672">=</span> get_first();
</span></span><span style="display:flex;"><span>        b <span style="color:#f92672">=</span> get_first();
</span></span><span style="display:flex;"><span>        q2.push(a <span style="color:#f92672">+</span> b);
</span></span><span style="display:flex;"><span>        ans <span style="color:#f92672">+=</span> a <span style="color:#f92672">+</span> b;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> ans <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){
</span></span><span style="display:flex;"><span>    ios<span style="color:#f92672">::</span>sync_with_stdio(false);
</span></span><span style="display:flex;"><span>    cin.tie(<span style="color:#66d9ef">nullptr</span>);
</span></span><span style="display:flex;"><span>    solve();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>åœ¨æ´›è°·åŸé¢˜è¢«å¡å¸¸æ•°å¡å‚»äº†ï¼Œå¸æ°§éƒ½è¿‡ä¸å»ï¼Œ571mséƒ½ä¸èƒ½è¿‡ï¼Ÿï¼Ÿï¼Ÿ</p>
<h2 id="51">5.1</h2>
<h1 id="å¾…è¡¥-1">ï¼ˆå¾…è¡¥ï¼‰</h1>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopcourse11problem855"><a class="link" href="http://oj.daimayuan.top/course/11/problem/855"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-6">æè¿°</h1>
<p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º$n$çš„æ•°ç»„$a_1,a_2,&hellip;,a_n$ã€‚è¯·æ±‚å‡ºä¸‹é¢å¼å­æ¨¡$1e9+7$çš„å€¼ã€‚</p>
<p>$$\sum_{i = 1}^{n - 1}\sum_{j = i + 1}^{n}(a_i XOR a_j)$$</p>
<h1 id="æ€è·¯-7">æ€è·¯</h1>
<p>å¾…è¡¥</p>
<h1 id="ä»£ç copy-1">ä»£ç ï¼ˆcopyï¼‰</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> mod <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e9</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">7</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> s[<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">61</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    ll ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    ll x;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">59</span>; j <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; j<span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>            ll t <span style="color:#f92672">=</span> x <span style="color:#f92672">&gt;&gt;</span> j <span style="color:#f92672">&amp;</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>            ans <span style="color:#f92672">=</span> (ans <span style="color:#f92672">+</span> s[t <span style="color:#f92672">^</span> <span style="color:#ae81ff">1</span>][j] <span style="color:#f92672">*</span> ((<span style="color:#ae81ff">1ll</span> <span style="color:#f92672">&lt;&lt;</span> j) <span style="color:#f92672">%</span> mod)) <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>            s[t][j]<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> ans <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="52">5.2</h2>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopcourse11problem867"><a class="link" href="http://oj.daimayuan.top/course/11/problem/867"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-7">æè¿°</h1>
<p>è¾“å…¥æ­£æ•´æ•°$k$ï¼Œæ‰¾åˆ°æ‰€æœ‰æ­£æ•´æ•°$y\leqslant x$ï¼Œä½¿å¾—$\dfrac{1}{k} = \dfrac{1}{x} + \dfrac{1}{y}$â€™</p>
<p>$k \leqslant 10^7$</p>
<h1 id="æ€è·¯-8">æ€è·¯</h1>
<p>çœ‹åˆ°æ•°æ®èŒƒå›´å°±çŸ¥é“è‚¯å®šä¸å¯èƒ½$n^2$æšä¸¾ï¼Œåªèƒ½ç”¨$O(n)$æ‰«ä¸€é</p>
<p>é€šè¿‡æ¨å…¬å¼åŒ–ç®€å¾—ï¼š
$$x = \dfrac{k \times y}{y - k}$$</p>
<p>è€Œyæœ‰ä¸€ä¸ªéšè—æ¡ä»¶ï¼šå› ä¸º$y\leqslant x$ï¼Œæ‰€ä»¥å½“yç­‰äºxçš„æ—¶å€™èƒ½å–åˆ°æœ€å¤§å€¼ï¼Œè€Œæ­¤æ—¶$x=y=2\times k$</p>
<p>æ‰€ä»¥$y$çš„èŒƒå›´å°±é™å®šåœ¨äº†$ï¼ˆk &lt; y \leqslant 2\times kï¼‰$</p>
<p>å› æ­¤åªéœ€è¦æšä¸¾æ¯ä¸€ä¸ª$y$ï¼Œå†åˆ¤æ–­$x$æ˜¯å¦åˆæ³•å°±è¡Œäº†</p>
<p><strong>éœ€è¦æ³¨æ„çš„ç»†èŠ‚ï¼š</strong></p>
<p><strong>1. æ¨å‡ºå…¬å¼å¾—åˆ°çš„$k \times y$åœ¨$1e7$çš„æ—¶å€™ä¼šçˆ†<code>int</code></strong></p>
<p><strong>2. æœ€å¥½èƒ½ä¸ç”¨<code>double</code>å°±ä¸ç”¨<code>double</code>ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºæ•´æ•°é™¤äº†ç”¨<code>ï¼ˆintï¼‰</code>è¿˜å¯ä»¥åˆ†å­å¯¹åˆ†æ¯å–æ¨¡</strong></p>
<p><strong>3. $y$çš„èŒƒå›´æ˜¯ä»$k + 1$å¼€å§‹ï¼Œå¦‚æœä»$k$å¼€å§‹ä¼šå‡ºç°æ¨¡$0$çš„çŠ¶å†µè€Œé€€å‡ºç¨‹åºï¼ˆæˆ–è¿”å›ä»»æ„å€¼ï¼‰</strong></p>
<p>å…¶å®è¿™ä¸‰ç‚¹å°±æ˜¯åšè¿™ä¸ªç®€å•é¢˜è¸©è¿‡çš„å‘&hellip;ç°åœ¨çŸ¥é“ä¸ºä»€ä¹ˆè“æ¡¥æ¯ä¼šè¾“éº»äº†</p>
<h1 id="ä»£ç -6">ä»£ç </h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> k;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> k;
</span></span><span style="display:flex;"><span>    ll y, cnt <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(y <span style="color:#f92672">=</span> k <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>; y <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> k; y<span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>        ll ok <span style="color:#f92672">=</span> (k <span style="color:#f92672">*</span> y) <span style="color:#f92672">%</span> (y <span style="color:#f92672">-</span> k);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>ok)
</span></span><span style="display:flex;"><span>            cnt<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> cnt <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="53">5.3</h2>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopcourse11problem868"><a class="link" href="http://oj.daimayuan.top/course/11/problem/868"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-8">æè¿°</h1>
<p>ç»™å‡ºä¸€ä¸ªé•¿åº¦ä¸º$N$çš„æ•°ç»„$A$å’Œä¸€ä¸ªæ•°å­—$k$</p>
<p>è¯·é—®æ•°ç»„Aä¸­æœ‰å¤šå°‘ä¸ªå­æ•°ç»„ï¼Œå…¶å…ƒç´ å’Œä¸º$k$ï¼Ÿ</p>
<p>$1â‰¤Nâ‰¤2Ã—10^5 ï¼Œ|A_i|â‰¤10^9ï¼Œ|k|â‰¤10^{15}$</p>
<h1 id="æ€è·¯-9">æ€è·¯</h1>
<p>é¦–å…ˆçœ‹æ•°æ®èŒƒå›´ï¼Œå› ä¸ºæœ‰è´Ÿæ•°ï¼Œæ‰€ä»¥åŒæŒ‡é’ˆåº”è¯¥æ˜¯ä¸è¡Œçš„ã€‚</p>
<p>çœ‹åˆ°åŒºé—´å’Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯å‰ç¼€å’Œï¼Œéå†ä¸€é$a_i$ï¼Œæ¯æ¬¡å¦‚æœæ‰¾åˆ°åŒºé—´å’Œä¸º$k$çš„å°±$cnt$++</p>
<p>ä½†æ˜¯å¦‚æœç›´æ¥ç¡¬æ‰«çš„è¯æ˜¯$O(n^2)$çš„ï¼Œè‚¯å®šä¸è¡Œï¼Œæ‰€ä»¥è¦æ¢å¦ä¸€ç§æŸ¥è¯¢çš„æ–¹æ³•ï¼Œå¯ä»¥é€‰æ‹©<code>set</code>æˆ–è€…<code>map</code>ï¼ˆè¿™ä¸ªæ€æƒ³zjåœ¨æŸæ¬¡div2Bä¹Ÿè¯´è¿‡ï¼‰</p>
<p>ä»¥<code>map</code>ä¸ºä¾‹ï¼Œæ»¡è¶³æ¡ä»¶çš„å‰ç¼€å’Œå’Œå½“å‰å‰ç¼€å’Œå¿…å®šå·®å€¼ä¸º$k$ï¼Œåªéœ€è¦$O(n)$æ‰«ä¸€éï¼Œç”¨mapç»Ÿè®¡å‰ç¼€å’Œçš„å‡ºç°æ¬¡æ•°ç„¶å<code>cnt+=mp[sum - k]</code>å³å¯</p>
<p>è¿˜æœ‰å°±æ˜¯è®°å¾—<code>mp[0]</code>è®°å¾—åˆå§‹åŒ–ä¸º$1$</p>
<h1 id="ä»£ç -7">ä»£ç </h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>ll <span style="color:#a6e22e">get_sum</span>(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> nums, ll k){
</span></span><span style="display:flex;"><span>    ll res <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, sum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    unordered_map<span style="color:#f92672">&lt;</span>ll,<span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>mp;
</span></span><span style="display:flex;"><span>    mp[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">auto</span> num : nums){
</span></span><span style="display:flex;"><span>        sum <span style="color:#f92672">+=</span> num;<span style="color:#75715e">//ç”¨sumè¡¨ç¤ºå½“å‰åˆ°å½“å‰æ•°å­—çš„å‰ç¼€å’Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (mp[sum <span style="color:#f92672">-</span> k] <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>            res <span style="color:#f92672">+=</span> mp[sum <span style="color:#f92672">-</span> k];
</span></span><span style="display:flex;"><span>        mp[sum]<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    ll k;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> k;
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>a(n);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> a[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> get_sum(a, k) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="54">5.4</h2>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopproblem851"><a class="link" href="http://oj.daimayuan.top/problem/851"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-9">æè¿°</h1>
<p>å¯¹äºæ¯ä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„æ’åˆ— $a$ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„ä¸¤ç§æ–¹å¼å°†å®ƒå»ºæˆä¸€ä¸ªå›¾ï¼š</p>
<p>1.å¯¹äºæ¯ä¸€ä¸ª $1â‰¤iâ‰¤n$ï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ€å¤§çš„ $j$ æ»¡è¶³ $1â‰¤j&lt;i,a_j&gt;a_i$ï¼Œå°† $i$ å’Œ $j$ ä¹‹é—´å»ºä¸€æ¡æ— å‘è¾¹</p>
<p>2.å¯¹äºæ¯ä¸€ä¸ª $1â‰¤iâ‰¤n$ï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ€å°çš„ $j$ æ»¡è¶³ $i&lt;jâ‰¤n,a_j&gt;a_i$ï¼Œå°† $i$ å’Œ $j$ ä¹‹é—´å»ºä¸€æ¡æ— å‘è¾¹</p>
<p>æ³¨æ„ï¼šå»ºç«‹çš„è¾¹æ˜¯åœ¨å¯¹åº”çš„ä¸‹æ ‡ $i$,$j$ ä¹‹é—´å»ºçš„è¾¹</p>
<p>è¯·é—®æœ‰å¤šå°‘ç§é•¿åº¦ä¸º $n$ çš„æ’åˆ— $a$ æ»¡è¶³ï¼Œå»ºå‡ºæ¥çš„å›¾å«ç¯</p>
<p>æ’åˆ—çš„æ•°é‡å¯èƒ½ä¼šéå¸¸å¤§ï¼Œè¯·è¾“å‡ºå®ƒæ¨¡ä¸Š $10^9+7$ åçš„å€¼</p>
<p>$n\leqslant 10 ^ 6$</p>
<h1 id="æ€è·¯-10">æ€è·¯</h1>
<p>é¢˜é¢æ¯”è¾ƒè°œè¯­äººï¼Œå¤§æ¦‚ç¿»è¯‘è¿‡æ¥çš„æ„æ€å°±æ˜¯ï¼Œè¦æ‰¾åˆ°å«ç¯çš„å›¾çš„æƒ…å†µã€‚ä½†è¿™æ ·è¿˜æ˜¯æœ‰ç‚¹æŠ½è±¡ï¼Œäºæ˜¯å°±åè¿‡æ¥æƒ³ã€‚</p>
<p>å»å¯»æ‰¾ä¸å«ç¯çš„è¾¹ï¼Œé‚£ä¹ˆåœ¨é¢˜æ„ä¸­ï¼Œä¸å«ç¯çš„å›¾æ˜¯è¿™æ ·çš„ï¼š</p>
<blockquote>
<p>å¯¹äºä¸€ä¸ªæ•°ï¼Œè¦ä¹ˆåªåœ¨å·¦è¾¹æœ‰æ¯”ä»–å¤§çš„ï¼Œè¦ä¹ˆåªåœ¨å³è¾¹æœ‰æ¯”ä»–å¤§çš„</p>
<p>è€Œåªæœ‰ä¸€ç±»å›¾æ»¡è¶³è¿™ç§æƒ…å†µ</p>
<p>è¯´äººè¯å°±æ˜¯æ‰¾ä»¥æœ€å¤§å€¼ä¸ºé¡¶ç‚¹çš„å•å³°çš„å›¾æœ‰å¤šå°‘ä¸ª</p>
<p><img src="/blog/2022/04/23/namomocamp%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98div2/222.png"
	width="1920"
	height="1080"
	srcset="/blog/2022/04/23/namomocamp%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98div2/222_hu663c7a285d393188fb4c42d06ebde89b_503518_480x0_resize_box_3.png 480w, /blog/2022/04/23/namomocamp%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98div2/222_hu663c7a285d393188fb4c42d06ebde89b_503518_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="P2"
	
	
		class="gallery-image" 
		data-flex-grow="177"
		data-flex-basis="426px"
	
></p>
<p>æŠŠè¿™ç§æƒ…å†µå»æ‰çš„æƒ…å†µå°±æ˜¯å«ç¯çš„æƒ…å†µäº†</p>
<p><img src="/blog/2022/04/23/namomocamp%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98div2/DCVLMJ%28RNSYO9GRC1%2906J36.png"
	width="1920"
	height="1080"
	srcset="/blog/2022/04/23/namomocamp%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98div2/DCVLMJ%28RNSYO9GRC1%2906J36_huf8be709131565c22d367ccb3e9ec78bc_506296_480x0_resize_box_3.png 480w, /blog/2022/04/23/namomocamp%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98div2/DCVLMJ%28RNSYO9GRC1%2906J36_huf8be709131565c22d367ccb3e9ec78bc_506296_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="P1"
	
	
		class="gallery-image" 
		data-flex-grow="177"
		data-flex-basis="426px"
	
></p>
</blockquote>
<p>å¯¹$n$çš„å…¨æ’åˆ—ä¸º$n!$,ä»¥æœ€å¤§å€¼ä¸ºé¡¶ç‚¹çš„å•å³°å›¾æœ‰$2^{n - 1}$ç§æƒ…å†µï¼ˆæ‘†æ³•ï¼‰ï¼šå¯¹äºé™¤äº†æœ€å¤§å€¼çš„$n-1$ä¸ªæ•°ï¼ŒæŒ‰é™åºæ‘†æ”¾ã€‚æ¯æ¬¡æ‘†æ”¾çš„æ—¶å€™éƒ½æœ‰åœ¨æœ€å¤§å€¼å·¦è¾¹å’Œæœ€å¤§å€¼å³è¾¹ä¸¤ç§é€‰æ‹©ï¼Œå› æ­¤ä¸º$2^{n - 1}$</p>
<p>ç­”æ¡ˆå³ä¸º
$$n! - 2^{n - 1}$$</p>
<p>æ›´å¤šç»†èŠ‚è§ä»£ç ï¼ˆä¸»è¦æ˜¯å–æ¨¡ï¼‰</p>
<h1 id="ä»£ç -8">ä»£ç </h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> mod <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e9</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">7</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> N <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e6</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>ll f[N];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ll <span style="color:#a6e22e">qmi</span>(ll m, ll k, ll p){<span style="color:#75715e">//æ±‚ m^k mod pï¼Œæ—¶é—´å¤æ‚åº¦ O(logk)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ll res <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">%</span> p, t <span style="color:#f92672">=</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (k){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (k<span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span>) res <span style="color:#f92672">=</span> res <span style="color:#f92672">*</span> t <span style="color:#f92672">%</span> p;
</span></span><span style="display:flex;"><span>        t <span style="color:#f92672">=</span> t <span style="color:#f92672">*</span> t <span style="color:#f92672">%</span> p;
</span></span><span style="display:flex;"><span>        k <span style="color:#f92672">&gt;&gt;=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">init</span>(){<span style="color:#75715e">//åˆå§‹åŒ–å¤„ç†é˜¶ä¹˜æ•°ç»„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    f[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> f[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1ll</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (ll i <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>; i <span style="color:#f92672">&lt;=</span> N; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        f[i] <span style="color:#f92672">=</span> i <span style="color:#f92672">*</span> f[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">%</span> mod;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    ll n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    ll ans <span style="color:#f92672">=</span> qmi(<span style="color:#ae81ff">2ll</span>, n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>, mod);
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> (f[n] <span style="color:#f92672">+</span> mod <span style="color:#f92672">-</span> ans) <span style="color:#f92672">%</span> mod <span style="color:#f92672">&lt;&lt;</span> endl; <span style="color:#75715e">// è¿™ä¸ªåœ°æ–¹çš„ + mod éå¸¸å…³é”®ï¼Œé˜²æ­¢è´Ÿæ•°ï¼Œå¾ˆå¤šè¦å–æ¨¡çš„é¢˜éƒ½åº”æ³¨æ„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){
</span></span><span style="display:flex;"><span>    ios<span style="color:#f92672">::</span>sync_with_stdio(false);
</span></span><span style="display:flex;"><span>    cin.tie(<span style="color:#66d9ef">nullptr</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> kase;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> kase;
</span></span><span style="display:flex;"><span>    init();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (kase<span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>        solve();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å…¶å®ä¸å¤ªç”¨å¾—åˆ°å¿«é€Ÿå¹‚ï¼Œä¸»è¦æ˜¯åœ¨æ¯æ¬¡é˜¶ä¹˜æˆ–å¹³æ–¹çš„æ—¶å€™éƒ½è¦å–æ¨¡</p>
<p>ä¸è¿‡åˆšå¥½æ¢ä¸ªæ›´å¥½çš„å¿«é€Ÿå¹‚æ¿å­äº†å§ï¼ˆ</p>
<h2 id="55">5.5</h2>
<h1 id="å¾…è¡¥-2">ï¼ˆå¾…è¡¥ï¼‰</h1>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopproblem869"><a class="link" href="http://oj.daimayuan.top/problem/869"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-10">æè¿°</h1>
<p>ç»™å®š$n$ä¸ªç‚¹å’Œ$n-1$æ¡è·¯ï¼Œé•‡ä» $1$ åˆ° $n$ ä¾æ¬¡ç¼–å·ï¼Œæ¯æ¡åŒå‘é“è·¯è¿æ¥ä¸¤ä¸ªä¸åŒçš„æ‘é•‡ã€‚æ¥ä¸‹æ¥è¯·ä½ å›ç­” $q$ ä¸ªé—®é¢˜ï¼Œæ¯æ¬¡ç»™å‡ºä¸¤ä¸ªæ•´æ•° $c, d$ï¼Œè¡¨ç¤ºç°åœ¨åˆ†åˆ«æœ‰ä¸€ä¸ªäººåœ¨æ‘é•‡ $c$,ä¸€ä¸ªäººåœ¨æ‘é•‡ $d$ï¼Œç°åœ¨åœ¨ $c$ çš„äººè¦ç”¨æœ€çŸ­çš„æ—¶é—´åˆ°è¾¾æ‘é•‡$d$ï¼Œåœ¨æ‘é•‡ d çš„äººè¦ä»¥æœ€çŸ­çš„æ—¶é—´åˆ°è¾¾æ‘é•‡ $c$ï¼Œå‡è®¾ä¸¤äººåŒæ—¶å‡ºå‘ï¼Œä¸¤äººçš„é€Ÿåº¦ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæ¯æ¡åŒå‘é“è·¯çš„é•¿åº¦ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè¯·é—®ä¸¤äººç›¸é‡çš„æ—¶å€™æ˜¯åœ¨æŸä¸€ä¸ªæ‘é•‡ï¼Œè¿˜æ˜¯åœ¨æŸæ¡åŒå‘é“è·¯ä¸Šï¼Ÿ</p>
<p>$2â‰¤nâ‰¤100000$</p>
<p>$1â‰¤qâ‰¤100000$</p>
<p>å¯¹äºæ¯ä¸€ä¸ªè¯¢é—® $1 â‰¤ c_i &lt; d_i â‰¤ n$</p>
<h1 id="æ€è·¯-11">æ€è·¯</h1>
<p>è¿™é¢˜æ‹¿åˆ°æ‰‹æœ€å¼€å§‹æƒ³çš„æ˜¯å°±æ˜¯ä¸€ä¸ªç®€å•çš„æ— å‘å›¾æ±‚æœ€çŸ­è·¯ç„¶ååˆ¤æ–­å¥‡å¶ï¼Œå†™äº†ä¸ªBFSè¿‡äº†æ ·ä¾‹ï¼Œè‡ªä¿¡æ»¡æ»¡äº¤äº†ä¸€å‘ï¼Œç»“æœåœ¨ç¬¬ä¸€ä¸ªç‚¹å°±Té£äº†ã€‚</p>
<p>é‡æ–°è¯»äº†ä¸€éé¢˜æ‰å‘ç°è¯¢é—®æ¬¡æ•°$q$æ˜¯$1e5$çš„ï¼Œè¿™æ ·çš„è¯æ— è®ºæ˜¯BFSè¿˜æ˜¯Dijkstraè·‘ä¸€è¶Ÿéƒ½ä¼šè¶…æ—¶ï¼Œå› ä¸ºåœ¨æ¯æ¬¡è¯¢é—®çš„æ—¶å€™éƒ½è¦<code>memset</code>è·ç¦»æ•°ç»„å’Œ<code>used</code>æ•°ç»„ä¸€æ¬¡ï¼ˆåå‘ç°æ˜¯è‡ªå·±BFSå¥—æ¿å­å¥—çš„å¤ªç¬¨äº†ï¼Œä¸€æ ·æœ‰äººç”¨BFSè¿‡äº†ï¼‰</p>
<p>ååœ¨dlsçš„å»ºè®®ä¸‹ç”¨LCAï¼Œå› ä¸º$n-1$æ¡è·¯çš„è¯æ˜¯æ ‘ã€‚å¥—äº†ä¸ªäºŒæœˆåº•å†™<a class="link" href="http://oj.daimayuan.top/course/10/problem/451"  target="_blank" rel="noopener"
    >div1æ¯æ—¥ä¸€é¢˜</a>çš„LCAæ¿å­è¿‡äº†ï¼Œä½†æ˜¯è¿˜æ˜¯æ™•æ™•ä¹ä¹çš„ï¼Œæœ‰æ—¶é—´ä¸€å®šè¡¥!ï¼ˆé¡ºä¾¿æŠŠä»£ç ç”¨<code>vector</code>é‡æ„ä¸€ä¸‹ï¼‰</p>
<p>çœ‹äº†åˆ«äººçš„ä»£ç æ‰å‘ç°å‘ç°BFSæ˜¯å®Œå…¨èƒ½åšçš„ï¼Œå› ä¸ºå®Œå…¨æ²¡æœ‰å¿…è¦å»æ±‚ä¸¤ç‚¹é—´çš„æœ€çŸ­è·¯ï¼Œå¯ä»¥ç›´æ¥é¢„å¤„ç†æ ¹èŠ‚ç‚¹åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„è·ç¦»ï¼Œå†æ±‚è·ç¦»å·®çš„å¥‡å¶æ€§å³å¯ï¼Œè¿™æ ·ä¹Ÿåªéœ€è¦ä¸€æ¬¡memsetäº†ã€‚</p>
<h1 id="ä»£ç -9">ä»£ç </h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> N <span style="color:#f92672">=</span> <span style="color:#ae81ff">200005</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">node</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> t, next;
</span></span><span style="display:flex;"><span>}edge[<span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>N];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[N], head[N], tot, sum[N], depth[N], father[N][<span style="color:#ae81ff">20</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">add</span>(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y){
</span></span><span style="display:flex;"><span>    edge[<span style="color:#f92672">++</span>tot].t <span style="color:#f92672">=</span> y;
</span></span><span style="display:flex;"><span>    edge[tot].next <span style="color:#f92672">=</span> head[x];
</span></span><span style="display:flex;"><span>    head[x] <span style="color:#f92672">=</span> tot;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dfs</span>(<span style="color:#66d9ef">int</span> u, <span style="color:#66d9ef">int</span> p){
</span></span><span style="display:flex;"><span>    sum[u] <span style="color:#f92672">=</span> sum[p] <span style="color:#f92672">+</span> a[u];
</span></span><span style="display:flex;"><span>    depth[u] <span style="color:#f92672">=</span> depth[p] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    father[u][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> p;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; j <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">19</span>; j<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        father[u][j] <span style="color:#f92672">=</span> father[father[u][j <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]][j <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> head[u]; i ; i <span style="color:#f92672">=</span> edge[i].next) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> v <span style="color:#f92672">=</span> edge[i].t;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (v <span style="color:#f92672">==</span> p)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">continue</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (v <span style="color:#f92672">!=</span> p){
</span></span><span style="display:flex;"><span>            father[v][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> u;
</span></span><span style="display:flex;"><span>            dfs(v, u);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">LCA</span>(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (depth[x] <span style="color:#f92672">&lt;</span> depth[y])
</span></span><span style="display:flex;"><span>        swap(x,y);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">18</span>; i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; i<span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (depth[father[x][i]] <span style="color:#f92672">&gt;=</span> depth[y])
</span></span><span style="display:flex;"><span>            x <span style="color:#f92672">=</span> father[x][i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (x <span style="color:#f92672">==</span> y)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> x;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">18</span>; i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; i<span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (father[x][i] <span style="color:#f92672">!=</span> father[y][i]) {
</span></span><span style="display:flex;"><span>            x <span style="color:#f92672">=</span> father[x][i];
</span></span><span style="display:flex;"><span>            y <span style="color:#f92672">=</span> father[y][i];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> father[x][<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n, m;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n <span style="color:#f92672">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        a[i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, u, v; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> u <span style="color:#f92672">&gt;&gt;</span> v;
</span></span><span style="display:flex;"><span>        add(u,v);
</span></span><span style="display:flex;"><span>        add(v,u);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    dfs(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> m; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> u, v;
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> u <span style="color:#f92672">&gt;&gt;</span> v;
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> ( (sum[u] <span style="color:#f92672">+</span> sum[v] <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> a[LCA(u, v)] )<span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;Road&#34;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Town&#34;</span>) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*  ---------------------------------    BFSè¿‡æ³•    ---------------------------------*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> N <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e5</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>e[N];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> dis[N];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">bfs</span>(){
</span></span><span style="display:flex;"><span>    memset(dis, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">sizeof</span>(dis));
</span></span><span style="display:flex;"><span>    dis[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>q;
</span></span><span style="display:flex;"><span>    q.push(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#f92672">!</span>q.empty()){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> t <span style="color:#f92672">=</span> q.front();
</span></span><span style="display:flex;"><span>        q.pop();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">auto</span> i : e[t]){
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(dis[i] <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>){
</span></span><span style="display:flex;"><span>                dis[i] <span style="color:#f92672">=</span> dis[t] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>                q.push(i);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n, m;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n <span style="color:#f92672">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; i<span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> x, y;
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> x <span style="color:#f92672">&gt;&gt;</span> y;
</span></span><span style="display:flex;"><span>        e[x].push_back(y);
</span></span><span style="display:flex;"><span>        e[y].push_back(x);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    bfs();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a, b;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (m<span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> a <span style="color:#f92672">&gt;&gt;</span> b;
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> ((abs(dis[a] <span style="color:#f92672">-</span> dis[b]) <span style="color:#f92672">&amp;</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;Road&#34;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Town&#34;</span>) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="56">5.6</h2>
<h1 id="ä»£ç å¾…è¡¥">ï¼ˆä»£ç å¾…è¡¥ï¼‰</h1>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopcourse11problem874"><a class="link" href="http://oj.daimayuan.top/course/11/problem/874"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-11">æè¿°</h1>
<p>ç°åœ¨ç»™å‡ºä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå½¢å¦‚ $a_1/a_2/a_3/&hellip;/a_n$ã€‚</p>
<p>å¦‚æœç›´æ¥è®¡ç®—ï¼Œå°±æ˜¯ä¸€ä¸ªä¸ªé™¤è¿‡å»ï¼Œæ¯”å¦‚ $1/2/1/4=1/8$ã€‚</p>
<p>ç„¶è€Œå° A çœ‹åˆ°ä¸€ä¸ªåˆ†æ•°æ„Ÿè§‰å¾ˆä¸èˆ’æœï¼Œå¸Œæœ›é€šè¿‡æ·»åŠ ä¸€äº›æ‹¬å·ä½¿å…¶å˜æˆä¸€ä¸ªæ•´æ•°ã€‚ä¸€ç§å¯è¡Œçš„åŠæ³•æ˜¯ $(1/2)/(1/4)=2$ã€‚</p>
<p>ç°åœ¨ç»™å‡ºè¿™ä¸ªè¡¨è¾¾å¼ï¼Œæ±‚é—®æ˜¯å¦å¯ä»¥é€šè¿‡æ·»åŠ ä¸€äº›æ‹¬å·æ”¹å˜è¿ç®—é¡ºåºä½¿å…¶æˆä¸ºä¸€ä¸ªæ•´æ•°</p>
<p>$2â‰¤nâ‰¤10000,1â‰¤tâ‰¤100,1â‰¤aiâ‰¤2^{31}âˆ’1$</p>
<h1 id="æ€è·¯-12">æ€è·¯</h1>
<p>å› ä¸º$a_2$å‰é¢çš„é™¤å·ä¸èƒ½å˜æˆä¹˜å·ï¼Œæ‰€ä»¥è´ªå¿ƒçš„æƒ³ï¼ŒæŠŠåé¢é™¤çš„æ•°è¶Šå˜è¶Šå°ï¼Œå†è®©$a_2$å»é™¤ï¼Œæ‰èƒ½å¾—åˆ°æœ€ä¼˜è§£ï¼Œå› æ­¤ç”¨æ‹¬å·å°†$a_2$åé¢çš„æ‹¬èµ·æ¥ï¼Œå³</p>
<p>$$a_1 / (a_2 / (a_3 / a_4&hellip;./a_n)) = a_1 \times a_3 \times&hellip;\times a_n / a_2 $$</p>
<p>è¿™æ ·çš„è¯å°±æ‰¾æ¯ä¸ªæ•°å’Œ$a_2$çš„<code>gcd</code>ï¼Œåªè¦æœ‰ä¸€ä¸ªä¸æ˜¯1å°±è¡Œ</p>
<h1 id="ä»£ç copy-2">ä»£ç ï¼ˆcopyï¼‰</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        puts(<span style="color:#e6db74">&#34;Yes&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>a(n);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> a[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> temp <span style="color:#f92672">=</span> gcd(a[<span style="color:#ae81ff">0</span>], a[<span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>    a[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">/=</span> temp;
</span></span><span style="display:flex;"><span>    temp <span style="color:#f92672">=</span> a[<span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (temp <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>            temp <span style="color:#f92672">/=</span> gcd(temp, a[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> (temp <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;Yes&#34;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;No&#34;</span>) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="57">5.7</h2>
<h1 id="å¾…è¡¥-3">ï¼ˆå¾…è¡¥ï¼‰</h1>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopcourse11problem154"><a class="link" href="http://oj.daimayuan.top/course/11/problem/154"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-12">æè¿°</h1>
<p>æœ‰ä¸€æ£µ $n$ ä¸ªèŠ‚ç‚¹çš„ä»¥1ä¸ºæ ¹çš„æœ‰æ ¹æ ‘ã€‚ç°åœ¨å¯ä»¥å¯¹è¿™æ£µæ ‘è¿›è¡Œè‹¥å¹²æ¬¡æ“ä½œï¼Œæ¯ä¸€æ¬¡æ“ä½œå¯ä»¥é€‰æ‹©æ ‘ä¸Šçš„ä¸€ä¸ªç‚¹ç„¶ååˆ æ‰è¿™ä¸ªç‚¹å’Œå®ƒçš„å„¿å­ä¹‹é—´çš„æ‰€æœ‰è¾¹ã€‚</p>
<p>ç°åœ¨æƒ³è¦çŸ¥é“å¯¹äºæ¯ä¸€ä¸ª $kâˆˆ[1,n]$ï¼Œæœ€å°‘éœ€è¦å¤šå°‘æ¬¡æ“ä½œæ‰èƒ½è®©å›¾ä¸­æ°å¥½å­˜åœ¨ $k$ ä¸ªè”é€šå—ã€‚</p>
<h1 id="è¾“å…¥æ ¼å¼">è¾“å…¥æ ¼å¼</h1>
<p>ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ­£æ•´æ•° $n$ã€‚</p>
<p>ç¬¬äºŒè¡Œè¾“å…¥ $nâˆ’1$ ä¸ªæ•´æ•° $f_i$ è¡¨ç¤º $i+1$ å·ç‚¹çš„çˆ¶äº²ï¼Œä¿è¯ $1â‰¤fiâ‰¤i$ã€‚</p>
<h1 id="è¾“å‡ºæ ¼å¼">è¾“å‡ºæ ¼å¼</h1>
<p>è¾“å‡º $n$ ä¸ªæ•´æ•°ï¼Œç¬¬ $i$ ä¸ªæ•°è¡¨ç¤º $k=i$ æ—¶çš„ç­”æ¡ˆï¼Œå¦‚æœæ— æ³•è®©å›¾ä¸­æ°å¥½å­˜åœ¨ $k$ ä¸ªè”é€šå—ï¼Œåˆ™è¾“å‡º$-1$ã€‚</p>
<h1 id="æ€è·¯-13">æ€è·¯</h1>
<p>æ¯å‡å»ä¸€ä¸ªèŠ‚ç‚¹ï¼Œäº§ç”Ÿçš„è”é€šå—çš„æ•°é‡å°±æ˜¯è¯¥èŠ‚ç‚¹çš„å­©å­æ•°é‡ã€‚  æ‰€ä»¥ï¼Œ å®è´¨ä¸Šæ˜¯ä¸€é“å•é‡èƒŒåŒ…é—®é¢˜çš„å˜å½¢ã€‚</p>
<h1 id="ä»£ç copy-3">ä»£ç ï¼ˆcopyï¼‰</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> MAXN <span style="color:#f92672">=</span> <span style="color:#ae81ff">3005</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> n, max_x, root[MAXN], dp[MAXN];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">DP</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> max_x; i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">1</span>; <span style="color:#f92672">--</span>i) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (root[i] <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> n; j <span style="color:#f92672">&gt;=</span> root[i]; <span style="color:#f92672">--</span>j) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (dp[j <span style="color:#f92672">-</span> root[i]] <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (dp[j] <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>                        dp[j] <span style="color:#f92672">=</span> min(dp[j], dp[j <span style="color:#f92672">-</span> root[i]] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>                    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                        dp[j] <span style="color:#f92672">=</span> dp[j <span style="color:#f92672">-</span> root[i]] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> x;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    max_x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> n; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>        root[x]<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (max_x <span style="color:#f92672">&lt;</span> x) {
</span></span><span style="display:flex;"><span>            max_x <span style="color:#f92672">=</span> x;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    dp[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    DP();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (dp[i]) {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> dp[i] <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="58">5.8</h2>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopcourse11problem872"><a class="link" href="http://oj.daimayuan.top/course/11/problem/872"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-13">æè¿°</h1>
<p>æœ‰ä¸€ä¸ªé•¿åº¦ä¸º$n$çš„åºåˆ—ï¼Œç°åœ¨æˆ‘ä»¬æƒ³æŠŠå®ƒåˆ‡å‰²æˆä¸‰æ®µ(æ¯ä¸€æ®µéƒ½æ˜¯è¿ç»­çš„ï¼‰ï¼Œä½¿å¾—æ¯ä¸€æ®µçš„å…ƒç´ æ€»å’Œéƒ½ç›¸åŒï¼Œè¯·é—®æœ‰å¤šå°‘ç§ä¸åŒçš„åˆ‡å‰²æ–¹æ³•</p>
<h1 id="æ€è·¯-14">æ€è·¯</h1>
<p>å‰ç¼€å’Œå¤„ç†æ•°ç»„ï¼Œä»å‰å¾€åæ‰«ä¸€éã€‚åˆ‡å‰²æˆç›¸åŒä¸”è¿ç»­çš„ä¸‰æ®µçš„è¯å¿…ç„¶æ¯ä¸ªæ–¹æ¡ˆçš„åˆ‡ç‚¹éƒ½æœ‰$\dfrac{sum}{3}$å’Œ$\dfrac{2\times sum}{3}$ä¸”å‰è€…ä¸€å®šåœ¨å³è€…çš„å·¦è¾¹ï¼Œè¿™æ ·ä¸€æ¥ï¼Œåªéœ€è¦è®°å½•ä¸‰åˆ†ä¹‹ä¸€å¤„çš„æ•°é‡ï¼Œç„¶ååœ¨æ¯æ¬¡é‡è§ä¸‰åˆ†ä¹‹äºŒå¤„çš„æ—¶å€™åŠ ä¸Šåˆ°ç›®å‰ä¸ºæ­¢çš„å·¦ç«¯ç‚¹çš„æ•°é‡å³å¯ã€‚</p>
<p>æ³¨æ„åœ¨$n$å¤„ä¸èƒ½å½“å³ç«¯ç‚¹ã€‚</p>
<h1 id="ä»£ç -10">ä»£ç </h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>ll l, r, x, cnt <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span>ll<span style="color:#f92672">&gt;</span>a(n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>        a[i] <span style="color:#f92672">=</span> a[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> x;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (a[n] <span style="color:#f92672">%</span> <span style="color:#ae81ff">3</span>){
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    l <span style="color:#f92672">=</span> a[n] <span style="color:#f92672">/</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>    r <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> l;
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (a[i] <span style="color:#f92672">==</span> r <span style="color:#f92672">&amp;&amp;</span> i <span style="color:#f92672">&lt;</span> n)
</span></span><span style="display:flex;"><span>            cnt <span style="color:#f92672">+=</span> x;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (a[i] <span style="color:#f92672">==</span> l)
</span></span><span style="display:flex;"><span>            x<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> cnt <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="59">5.9</h2>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopcourse11problem47"><a class="link" href="http://oj.daimayuan.top/course/11/problem/47"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-14">æè¿°</h1>
<p>ç»™å®šæ•´æ•° $n$ï¼Œæƒ³å°†$1âˆ¼n$è¿™$n$ä¸ªæ•°å­—åˆ†æˆä¸¤ç»„ï¼Œæ¯ä¸€ç»„è‡³å°‘æœ‰ä¸€ä¸ªæ•°ï¼Œå¹¶ä¸”ä½¿å¾—ä¸¤ç»„æ•°å­—çš„å’Œçš„æœ€å¤§å…¬çº¦æ•°æœ€å¤§ï¼Œè¯·è¾“å‡ºæœ€å¤§çš„æœ€å¤§å…¬çº¦æ•°ã€‚</p>
<p>$nâ‰¤10^9$</p>
<h1 id="æ€è·¯-15">æ€è·¯</h1>
<p>å°†$n$ä¸ªæ•°çš„å’Œè®¾ä¸º$sum$ï¼Œæ¯æ¬¡åˆ†ç»„ï¼Œå°±æ˜¯åˆ†ä¸º$x$å’Œ$sum-x$ï¼Œé¢˜æ„å³æ±‚$gcd(x,sum - x)$çš„æœ€å¤§å€¼ã€‚</p>
<p>å†æ¬¡è½¬åŒ–é—®é¢˜ï¼Œå³æ±‚$sum$æœ€å°‘èƒ½åˆ†æˆå¤šå°‘ä»½ï¼Œæ±‚æ­¤æ—¶è®©ä»½æ•°æœ€å°çš„$x$</p>
<h1 id="ä»£ç -11">ä»£ç </h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    ll n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    ll sum;
</span></span><span style="display:flex;"><span>    sum <span style="color:#f92672">=</span> (n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> n <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (ll i <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>; i <span style="color:#f92672">*</span> i <span style="color:#f92672">&lt;=</span> sum; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (sum <span style="color:#f92672">%</span> i <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> sum <span style="color:#f92672">/</span> i <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="510">5.10</h2>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopproblem878"><a class="link" href="http://oj.daimayuan.top/problem/878"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-15">æè¿°</h1>
<p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º $n$ æ•°ç»„ $A$ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œ $m$ æ¬¡ï¼š</p>
<p>â€‹ é€‰æ‹©ä¸€æ®µåŒºé—´ $[l,r]$ï¼Œå°†åŒºé—´ä¸­æ‰€æœ‰çš„æ•°åŠ ä¸Šæ•´æ•° $x$ã€‚</p>
<p>â€‹ æ“ä½œå®Œæˆåå›ç­” $k$ ä¸ªé—®é¢˜ï¼š</p>
<p>â€‹ æ¯ä¸ªé—®é¢˜ç»™å®šä¸€æ®µåŒºé—´ $[l,r]$ï¼Œè¾“å‡ºåŒºé—´ä¸­æ‰€æœ‰æ•°çš„å’Œã€‚</p>
<p>$1â‰¤nâ‰¤2Ã—10^5ï¼Œ1â‰¤m,kâ‰¤10^5ï¼Œ|x|â‰¤10^5$</p>
<h1 id="æ€è·¯-16">æ€è·¯</h1>
<p>ä¸€çœ¼å·®åˆ†åŠ å‰ç¼€å’Œï¼Œä¸è¿‡è¿™é‡Œæ³¨æ„è¦å¤šç”¨ä¸€ä¸ªå·®åˆ†æ•°ç»„æ¥è®°å½•ï¼Œè€Œä¸èƒ½ç›´æ¥åœ¨åŸæ•°ç»„ä¸Šæ‰“æ ‡è®°ï¼Œå› ä¸ºä¹‹åè¦è¿›è¡Œå‰ç¼€å’Œæ“ä½œã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$</p>
<h1 id="ä»£ç -12">ä»£ç </h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n, m, k;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n <span style="color:#f92672">&gt;&gt;</span> m <span style="color:#f92672">&gt;&gt;</span> k;
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span>ll<span style="color:#f92672">&gt;</span>a(n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>d(n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span>ll<span style="color:#f92672">&gt;</span>s(n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> a[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        d[i] <span style="color:#f92672">=</span> a[i] <span style="color:#f92672">-</span> a[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (m<span style="color:#f92672">--</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> l, r, x;
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> l <span style="color:#f92672">&gt;&gt;</span> r <span style="color:#f92672">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>        d[l] <span style="color:#f92672">+=</span> x;
</span></span><span style="display:flex;"><span>        d[r <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">-=</span> x;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        a[i] <span style="color:#f92672">=</span> a[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> d[i];
</span></span><span style="display:flex;"><span>        s[i] <span style="color:#f92672">=</span> a[i];
</span></span><span style="display:flex;"><span>        s[i] <span style="color:#f92672">+=</span> s[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (k<span style="color:#f92672">--</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> l, r;
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> l <span style="color:#f92672">&gt;&gt;</span> r;
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> s[r] <span style="color:#f92672">-</span> s[l <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ç»å…¸å¿˜å¼€LLç„¶åWAäº†ä¸€å‘</p>
<p>çœ‹åˆ°ä¸ªç¥ä»™åšæ³•ï¼Œè´´ä¸€ä¸‹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">signed</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    read(n);read(m);read(k);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>n;<span style="color:#f92672">++</span>i)   read(a[i]);
</span></span><span style="display:flex;"><span>    adjacent_difference(a<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, a<span style="color:#f92672">+</span>n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, a<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(m){
</span></span><span style="display:flex;"><span>        read(l); read(r); read(x);
</span></span><span style="display:flex;"><span>        a[l] <span style="color:#f92672">+=</span> x;
</span></span><span style="display:flex;"><span>        a[r<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">-=</span> x;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">--</span>m;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    partial_sum(a<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, a<span style="color:#f92672">+</span>n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, a<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    partial_sum(a<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, a<span style="color:#f92672">+</span>n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, a<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(k){
</span></span><span style="display:flex;"><span>        read(l); read(r);
</span></span><span style="display:flex;"><span>        printf(<span style="color:#e6db74">&#34;%lld</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a[r]<span style="color:#f92672">-</span>a[l<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">--</span>k;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>çœ‹æ‡‚äº†<code>adjacent_difference</code>å’Œ<code>partial_sum</code>åå†™äº†ä¸ªå¸¦æ³¨é‡Šç‰ˆçš„</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve2</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n, m, k;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n <span style="color:#f92672">&gt;&gt;</span> m <span style="color:#f92672">&gt;&gt;</span> k;
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span>ll<span style="color:#f92672">&gt;</span>a(n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> a[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    adjacent_difference(a.begin() <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, a.end(), a.begin() <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);<span style="color:#75715e">//å°†åŸæ•°ç»„å˜ä¸ºå·®åˆ†æ•°ç»„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> l, r, x;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (m<span style="color:#f92672">--</span>){
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> l <span style="color:#f92672">&gt;&gt;</span> r <span style="color:#f92672">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>        a[l] <span style="color:#f92672">+=</span> x;
</span></span><span style="display:flex;"><span>        a[r <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">-=</span> x;<span style="color:#75715e">//åœ¨å·®åˆ†æ•°ç»„é‡Œé¢è¿›è¡ŒåŒºé—´ä¿®æ”¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    partial_sum(a.begin() <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, a.end(), a.begin() <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);<span style="color:#75715e">//å°†å·®åˆ†æ•°ç»„è¿˜åŸä¸ºåŸæ•°ç»„ï¼ˆåä¸€é¡¹åŠ å‰ä¸€é¡¹ï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    partial_sum(a.begin() <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, a.end(), a.begin() <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);<span style="color:#75715e">//å°†åŸæ•°ç»„å˜åŒ–ä¸ºå‰ç¼€å’Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span> (k<span style="color:#f92672">--</span>){
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> l <span style="color:#f92672">&gt;&gt;</span> r;
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> a[r] <span style="color:#f92672">-</span> a[l <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="511">5.11</h2>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopproblem912"><a class="link" href="http://oj.daimayuan.top/problem/912"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-16">æè¿°</h1>
<p>æœ‰ä¸€ä¸ª $01$ åºåˆ—ï¼Œæ¯æ¬¡å¯ä»¥å¯¹å…¶ä¸­çš„æŸä¸€ä½å–åï¼ˆ$0$å˜$1$ï¼Œ$1$å˜$0$ï¼‰</p>
<p>æ±‚æœ€å°‘ç¿»è½¬å…¶ä¸­çš„å‡ ä½å¯ä»¥ä½¿å¾—è¯¥åºåˆ—å˜ä¸ºéé€’å‡åºåˆ—</p>
<h1 id="æ€è·¯-17">æ€è·¯</h1>
<p>ä¸èƒ½ç›¸ä¿¡è¿™ä¸ªé¢˜æˆ‘æ˜¨å¤©å±…ç„¶æ²¡çœ‹å‡ºæ¥ã€‚ã€‚ã€‚æœ€å¼€å§‹æƒ³çš„æ˜¯æ‰¾ç¬¬ä¸€ä¸ª$1$åé¢çš„$0$ï¼Œæ¯ä¸¤ä¸ªä¸€ç»„ï¼Œæ•°æ•°å°±å®Œäº†ã€‚</p>
<p>ç„¶åå¯„å¾—å¾ˆå½»åº•ï¼Œç„¶åå¼€æ‘†äº† <del>ç„¶åç”šè‡³ä¹Ÿæ²¡å¤ä¹ æ¨¡ç”µå»çœ‹å‰§äº†</del></p>
<p>æ­£ç¡®æ€è·¯æ˜¯æ‰¾åˆ°$0$å’Œ$1$çš„åˆ†ç•Œç‚¹ï¼Œåˆ†ç•Œç‚¹å‰é¢æœ‰$0$å¿…é¡»å…¨æ˜¯$0$ï¼Œåé¢æœ‰$1$å¿…é¡»å…¨æ˜¯$1$ã€‚æ‰€ä»¥è¦åˆ†åˆ«æ‰¾å‰é¢çš„$1$çš„æ•°é‡å’Œåé¢çš„$0$çš„æ•°é‡ã€‚</p>
<p>ç”¨$a_i$è®°å½•åˆ°$i$ç‚¹çš„å‰ç¼€å’Œï¼Œæ­¤åˆ†ç•Œç‚¹éœ€è¦ä¿®æ”¹çš„æ•°é‡ä¸º</p>
<p>$$a[i] + n - i - (a[n] - a[i])$$</p>
<p>æ‰«ä¸€éæ‰¾æœ€å°å€¼å³å¯ï¼Œå¤æ‚åº¦æ˜¯$O(n)$çš„</p>
<h1 id="ä»£ç -13">ä»£ç </h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    string s;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> s;
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>a(n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        a[i] <span style="color:#f92672">=</span> a[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> s[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> <span style="color:#e6db74">&#39;0&#39;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> ans <span style="color:#f92672">=</span> INF;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        ans <span style="color:#f92672">=</span> min(ans, a[i] <span style="color:#f92672">+</span> n <span style="color:#f92672">-</span> i <span style="color:#f92672">-</span> a[n] <span style="color:#f92672">+</span> a[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> ans <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>æ„Ÿè§‰å°±æ˜¯ä¸ªdiv2Açš„é¢˜ï¼Œå·²ç»æ˜¯ä¸ªåºŸäººäº†&hellip;</p>
<h2 id="512">5.12</h2>
<h1 id="å¾…è¡¥-4">ï¼ˆå¾…è¡¥ï¼‰</h1>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopcourse11problem917"><a class="link" href="http://oj.daimayuan.top/course/11/problem/917"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="æè¿°-17">æè¿°</h1>
<p>çº¦ç¿°æ˜¯ä¸€ä¸ªå†œåœºä¸»ï¼Œä»–çš„å†œåœºæœ‰$n$å—ç”°ï¼Œç¼–å·ä» $1$åˆ° $n$ï¼Œè¿™ $n$å—ç”°é€šè¿‡ $m$æ¡åŒå‘é“è·¯ç›¸è¿ï¼ˆæ•°æ®ä¿è¯è¿™$n$å—ç”°éƒ½æ˜¯è”é€šçš„ï¼‰ï¼Œæˆ‘ä»¬å‡è®¾ç¬¬$i$å—ç”°ä¼šäº§ç”Ÿ $2^i$$kg$ çš„æ”¶ç›Šï¼Œç°åœ¨çº¦ç¿°æƒ³æŠŠå†œç”°çš„å·¥ä½œå…¨éƒ¨äº¤ç»™è‡ªå·±çš„ä¸¤ä¸ªå­©å­ï¼Œåˆ’åˆ†æ–¹å¼å¿…é¡»æ»¡è¶³ä»¥ä¸‹è§„åˆ™:</p>
<p>1.æ¯ä¸€å—ç”°éƒ½éœ€è¦æ°å¥½è¢«åˆ†ç»™ä¸€ä¸ªå­©å­.</p>
<p>2.åˆ†ç»™ä¸¤ä¸ªå­©å­çš„å†œç”°å¿…é¡»æ˜¯è”é€šçš„.å°±æ˜¯è¯´å¯¹äºä»»æ„ä¸€ä¸ªå­©å­åœ¨åˆ’åˆ†ç»™è‡ªå·±çš„ä»»æ„ä¸€å—ç”°ï¼Œéƒ½å¯ä»¥ä¸ç»è¿‡å¦å¤–ä¸€ä¸ªå­©å­çš„ç”°ï¼Œåˆ°è¾¾è‡ªå·±çš„ä»»æ„ä¸€å—ç”°.</p>
<p>3.åˆ’åˆ†ç»™ä¸¤ä¸ªå­©å­çš„æ”¶ç›Šå¿…é¡»å°½å¯èƒ½çš„ç›¸ç­‰ï¼Œå¦‚æœæ— æ³•ç›¸ç­‰ï¼Œå¹´é•¿çš„å­©å­ä¼šå¾—åˆ°å¤§çš„é‚£ä¸€ä»½.</p>
<p>å¯¹äºç¬¬ $i$å—ç”°ï¼Œå¦‚æœä½ è¦æŠŠå®ƒåˆ†ç»™å¹´é•¿çš„å­©å­ï¼Œè¯·è¾“å‡º$A$,å¦åˆ™è¾“å‡º$B$.</p>
<p>$2â‰¤nâ‰¤3e5,1â‰¤mâ‰¤3e5$</p>
<h1 id="æ€è·¯-18">æ€è·¯</h1>
<p>å¹¶æŸ¥é›†</p>
<h1 id="ä»£ç copy-4">ä»£ç ï¼ˆcopyï¼‰</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DSU</span>{
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> fa, sz;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">explicit</span> DSU(<span style="color:#66d9ef">int</span> n ) <span style="color:#f92672">:</span> fa(n), sz(n){
</span></span><span style="display:flex;"><span>        iota(all(fa),<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>        fill(all(sz),<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">find</span>(<span style="color:#66d9ef">int</span> i){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> i <span style="color:#f92672">==</span> fa[i] <span style="color:#f92672">?</span> i : (fa[i] <span style="color:#f92672">=</span> find(fa[i]));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">join</span>(<span style="color:#66d9ef">int</span> i, <span style="color:#66d9ef">int</span> j){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> find(i), b <span style="color:#f92672">=</span> find(j);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (a <span style="color:#f92672">==</span> b)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (a <span style="color:#f92672">&gt;</span> b)
</span></span><span style="display:flex;"><span>            swap(a, b);
</span></span><span style="display:flex;"><span>        fa[b] <span style="color:#f92672">=</span> a, sz[a] <span style="color:#f92672">+=</span> sz[b];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">size</span>(<span style="color:#66d9ef">int</span> i){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> sz[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">solve</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n, m;
</span></span><span style="display:flex;"><span>    cin <span style="color:#f92672">&gt;&gt;</span> n <span style="color:#f92672">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    DSU dsu(n);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (m<span style="color:#f92672">--</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> x, y;
</span></span><span style="display:flex;"><span>        cin <span style="color:#f92672">&gt;&gt;</span> x <span style="color:#f92672">&gt;&gt;</span> y;
</span></span><span style="display:flex;"><span>        x<span style="color:#f92672">--</span>,y<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (x <span style="color:#f92672">!=</span> n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&amp;&amp;</span> y <span style="color:#f92672">!=</span> n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>){
</span></span><span style="display:flex;"><span>            dsu.join(x, y);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    string ans (n, <span style="color:#e6db74">&#39;A&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (dsu.find(i) <span style="color:#f92672">==</span> dsu.find(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>))
</span></span><span style="display:flex;"><span>            ans[i] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;B&#39;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> ans <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="513">5.13</h2>
<h1 id="å¾…è¡¥-5">ï¼ˆå¾…è¡¥ï¼‰</h1>
<hr>
<h1 id="é¢˜ç›®é“¾æ¥httpojdaimayuantopcourse11problem880"><a class="link" href="http://oj.daimayuan.top/course/11/problem/880"  target="_blank" rel="noopener"
    >é¢˜ç›®é“¾æ¥</a></h1>
<h1 id="åŸé¢˜é“¾æ¥httpswwwluogucomcnproblemp1119"><a class="link" href="https://www.luogu.com.cn/problem/P1119"  target="_blank" rel="noopener"
    >åŸé¢˜é“¾æ¥</a></h1>
<h1 id="æè¿°-18">æè¿°</h1>
<p>B åœ°åŒºåœ¨åœ°éœ‡è¿‡åï¼Œæ‰€æœ‰æ‘åº„éƒ½é€ æˆäº†ä¸€å®šçš„æŸæ¯ï¼Œè€Œè¿™åœºåœ°éœ‡å´æ²¡å¯¹å…¬è·¯é€ æˆä»€ä¹ˆå½±å“ã€‚ä½†æ˜¯åœ¨æ‘åº„é‡å»ºå¥½ä¹‹å‰ï¼Œæ‰€æœ‰ä¸æœªé‡å»ºå®Œæˆçš„æ‘åº„çš„å…¬è·¯å‡æ— æ³•é€šè½¦ã€‚æ¢å¥è¯è¯´ï¼Œåªæœ‰è¿æ¥ç€ä¸¤ä¸ªé‡å»ºå®Œæˆçš„æ‘åº„çš„å…¬è·¯æ‰èƒ½é€šè½¦ï¼Œåªèƒ½åˆ°è¾¾é‡å»ºå®Œæˆçš„æ‘åº„ã€‚</p>
<p>ç»™å‡º B åœ°åŒºçš„æ‘åº„æ•° $N$ï¼Œæ‘åº„ç¼–å·ä» $0$ åˆ° $N-1$ï¼Œå’Œæ‰€æœ‰ $M$ æ¡å…¬è·¯çš„é•¿åº¦ï¼Œå…¬è·¯æ˜¯åŒå‘çš„ã€‚å¹¶ç»™å‡ºç¬¬ ii ä¸ªæ‘åº„é‡å»ºå®Œæˆçš„æ—¶é—´ $t_i$ï¼Œä½ å¯ä»¥è®¤ä¸ºæ˜¯åŒæ—¶å¼€å§‹é‡å»ºå¹¶åœ¨ç¬¬ $t_i$å¤©é‡å»ºå®Œæˆï¼Œå¹¶ä¸”åœ¨å½“å¤©å³å¯é€šè½¦ã€‚è‹¥ $t_i$ä¸º $0$ åˆ™è¯´æ˜åœ°éœ‡æœªå¯¹æ­¤åœ°åŒºé€ æˆæŸåï¼Œä¸€å¼€å§‹å°±å¯ä»¥é€šè½¦ã€‚ä¹‹åæœ‰ $Q$ ä¸ªè¯¢é—® $(x,y,t)$ï¼Œå¯¹äºæ¯ä¸ªè¯¢é—®ä½ è¦å›ç­”åœ¨ç¬¬ $t$ å¤©ï¼Œä»æ‘åº„ $x$ åˆ°æ‘åº„ $y$ çš„æœ€çŸ­è·¯å¾„é•¿åº¦ä¸ºå¤šå°‘ã€‚å¦‚æœæ— æ³•æ‰¾åˆ°ä» $X$ æ‘åº„åˆ° $y$ æ‘åº„çš„è·¯å¾„ï¼Œç»è¿‡è‹¥å¹²ä¸ªå·²é‡å»ºå®Œæˆçš„æ‘åº„ï¼Œæˆ–è€…æ‘åº„ $x$ æˆ–æ‘åº„ $y$ åœ¨ç¬¬ $t$ å¤©ä»æœªé‡å»ºå®Œæˆï¼Œåˆ™éœ€è¦è¿”å› <code>-1</code></p>
<h1 id="æ€è·¯-19">æ€è·¯</h1>
<p>Floyd</p>
<h1 id="ä»£ç copy-5">ä»£ç ï¼ˆCopyï¼‰</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#define N 205
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> n,m;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[N];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> f[N][N];<span style="color:#75715e">//é‚»æ¥çŸ©é˜µå­˜è¾¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">updata</span>(<span style="color:#66d9ef">int</span> k){
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span>n;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span>(f[i][j]<span style="color:#f92672">&gt;</span>f[i][k]<span style="color:#f92672">+</span>f[j][k])
</span></span><span style="display:flex;"><span>	f[i][j]<span style="color:#f92672">=</span>f[j][i]<span style="color:#f92672">=</span>f[i][k]<span style="color:#f92672">+</span>f[j][k];<span style="color:#75715e">//ç”¨è¿™ä¸ªæ–°çš„æ›´æ–°æ‰€æœ‰å‰é¢çš„ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){
</span></span><span style="display:flex;"><span>	cin<span style="color:#f92672">&gt;&gt;</span>n<span style="color:#f92672">&gt;&gt;</span>m;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>	scanf(<span style="color:#e6db74">&#34;%d&#34;</span>,a<span style="color:#f92672">+</span>i);<span style="color:#75715e">//ä¾æ¬¡è¾“å…¥æ¯ä¸€ä¸ªæ‘åº„å»ºç«‹å®Œæˆæ—¶éœ€è¦çš„æ—¶é—´
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span>n;j<span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>		f[i][j]<span style="color:#f92672">=</span><span style="color:#ae81ff">1e9</span>;<span style="color:#75715e">//åˆå§‹åŒ–ä¸ºä¿è¯å®ƒä¸çˆ†ç‚¸èŒƒå›´å†…çš„æœ€å¤§å€¼ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>	f[i][i]<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> s1,s2,s3;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>m;i<span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>		scanf(<span style="color:#e6db74">&#34;%d%d%d&#34;</span>,<span style="color:#f92672">&amp;</span>s1,<span style="color:#f92672">&amp;</span>s2,<span style="color:#f92672">&amp;</span>s3);
</span></span><span style="display:flex;"><span>		f[s1][s2]<span style="color:#f92672">=</span>f[s2][s1]<span style="color:#f92672">=</span>s3;<span style="color:#75715e">//åˆå§‹åŒ–è¾¹é•¿ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> q;
</span></span><span style="display:flex;"><span>	cin<span style="color:#f92672">&gt;&gt;</span>q;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> now<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>q;i<span style="color:#f92672">++</span>){<span style="color:#75715e">//å¤„ç†å„è¯¢é—® 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		scanf(<span style="color:#e6db74">&#34;%d%d%d&#34;</span>,<span style="color:#f92672">&amp;</span>s1,<span style="color:#f92672">&amp;</span>s2,<span style="color:#f92672">&amp;</span>s3);
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">while</span>(a[now]<span style="color:#f92672">&lt;=</span>s3<span style="color:#f92672">&amp;&amp;</span>now<span style="color:#f92672">&lt;</span>n){
</span></span><span style="display:flex;"><span>			updata(now);<span style="color:#75715e">//ä¾æ¬¡æ›´æ–°ç‚¹ï¼Œä½¿å®ƒå¯ä»¥è¢«ç”¨æ¥æ›´æ–°å…¶ä»–çš„ç‚¹ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>			now<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">if</span>(a[s1]<span style="color:#f92672">&gt;</span>s3<span style="color:#f92672">||</span>a[s2]<span style="color:#f92672">&gt;</span>s3)cout<span style="color:#f92672">&lt;&lt;-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">if</span>(f[s1][s2]<span style="color:#f92672">==</span><span style="color:#ae81ff">1e9</span>)cout<span style="color:#f92672">&lt;&lt;-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">else</span> cout<span style="color:#f92672">&lt;&lt;</span>f[s1][s2]<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>} 
</span></span></code></pre></div>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/namomo%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/">Namomoæ¯æ—¥ä¸€é¢˜</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    <section class="article-lastmod">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <span>
            æœ€åæ›´æ–°äº Oct 20, 2022 19:48 CST
        </span>
    </section></footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"integrity="sha256-J&#43;iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s="crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js"integrity="sha256-InsNdER1b2xUewP&#43;pKCUJpkhiqwHgqiPXDlIk7GzBu4="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js"integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI="crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ]
        });})
</script>
    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2022 Inari&#39;s Blog
    </section>
    
    <section class="powerby">
        







    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title"> </h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#422">4.22</a></li>
  </ul>

  <ul>
    <li><a href="#423">4.23</a></li>
  </ul>

  <ul>
    <li><a href="#426">4.26</a></li>
  </ul>

  <ul>
    <li><a href="#427">4.27</a></li>
  </ul>

  <ul>
    <li><a href="#428">4.28</a></li>
  </ul>

  <ul>
    <li><a href="#429è¡¥">ï¼ˆ4.29è¡¥ï¼‰ï¼š</a></li>
  </ul>

  <ul>
    <li><a href="#429">4.29</a></li>
  </ul>

  <ul>
    <li><a href="#430">4.30</a></li>
  </ul>

  <ul>
    <li><a href="#51">5.1</a></li>
  </ul>

  <ul>
    <li><a href="#52">5.2</a></li>
  </ul>

  <ul>
    <li><a href="#53">5.3</a></li>
  </ul>

  <ul>
    <li><a href="#54">5.4</a></li>
  </ul>

  <ul>
    <li><a href="#55">5.5</a></li>
  </ul>

  <ul>
    <li><a href="#56">5.6</a></li>
  </ul>

  <ul>
    <li><a href="#57">5.7</a></li>
  </ul>

  <ul>
    <li><a href="#58">5.8</a></li>
  </ul>

  <ul>
    <li><a href="#59">5.9</a></li>
  </ul>

  <ul>
    <li><a href="#510">5.10</a></li>
  </ul>

  <ul>
    <li><a href="#511">5.11</a></li>
  </ul>

  <ul>
    <li><a href="#512">5.12</a></li>
  </ul>

  <ul>
    <li><a href="#513">5.13</a></li>
  </ul>
</nav>
        </div>
    </section>

            
        
            
                <form action="/page/search/" class="search-form widget" >
        <p>
            <label> </label>
            <input name="keyword" required placeholder=" " />
        
            <button title=" ">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



            </button>
        </p>
    </form>
            
        
    </aside>


        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
